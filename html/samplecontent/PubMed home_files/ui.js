(function(A){A.widget("ui.accordion",{_init:function(){var D=this.options,B=this;this.running=0;if(D.collapsible==A.ui.accordion.defaults.collapsible&&D.alwaysOpen!=A.ui.accordion.defaults.alwaysOpen){D.collapsible=!D.alwaysOpen}if(D.navigation){var C=this.element.find("a").filter(D.navigationFilter);if(C.length){if(C.filter(D.header).length){this.active=C}else{this.active=C.parent().parent().prev();C.addClass("ui-accordion-content-active")}}}this.element.addClass("ui-accordion ui-widget ui-helper-reset");if(this.element[0].nodeName=="UL"){this.element.children("li").addClass("ui-accordion-li-fix")}this.headers=this.element.find(D.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){A(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){A(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){A(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){A(this).removeClass("ui-state-focus")});this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");this.active=this._findActive(this.active||D.active).toggleClass("ui-state-default").toggleClass("ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");this.active.next().addClass("ui-accordion-content-active");A("<span/>").addClass("ui-icon "+D.icons.header).prependTo(this.headers);this.active.find(".ui-icon").toggleClass(D.icons.header).toggleClass(D.icons.headerSelected);if(A.browser.msie){this.element.find("a").css("zoom","1")}this.resize();this.element.attr("role","tablist");this.headers.attr("role","tab").bind("keydown",function(E){return B._keydown(E)}).next().attr("role","tabpanel");this.headers.not(this.active||"").attr("aria-expanded","false").attr("tabIndex","-1").next().hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex","0")}else{this.active.attr("aria-expanded","true").attr("tabIndex","0")}if(!A.browser.safari){this.headers.find("a").attr("tabIndex","-1")}if(D.event){this.headers.bind((D.event)+".accordion",function(E){return B._clickHandler.call(B,E,this)})}},destroy:function(){var C=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role").unbind(".accordion").removeData("accordion");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabindex");this.headers.find("a").removeAttr("tabindex");this.headers.children(".ui-icon").remove();var B=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active");if(C.autoHeight||C.fillHeight){B.css("height","")}},_setData:function(B,C){if(B=="alwaysOpen"){B="collapsible";C=!C}A.widget.prototype._setData.apply(this,arguments)},_keydown:function(E){var G=this.options,F=A.ui.keyCode;if(G.disabled||E.altKey||E.ctrlKey){return }var D=this.headers.length;var B=this.headers.index(E.target);var C=false;switch(E.keyCode){case F.RIGHT:case F.DOWN:C=this.headers[(B+1)%D];break;case F.LEFT:case F.UP:C=this.headers[(B-1+D)%D];break;case F.SPACE:case F.ENTER:return this._clickHandler({target:E.target},E.target)}if(C){A(E.target).attr("tabIndex","-1");A(C).attr("tabIndex","0");C.focus();return false}return true},resize:function(){var E=this.options,D;if(E.fillSpace){if(A.browser.msie){var B=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}D=this.element.parent().height();if(A.browser.msie){this.element.parent().css("overflow",B)}this.headers.each(function(){D-=A(this).outerHeight()});var C=0;this.headers.next().each(function(){C=Math.max(C,A(this).innerHeight()-A(this).height())}).height(Math.max(0,D-C)).css("overflow","auto")}else{if(E.autoHeight){D=0;this.headers.next().each(function(){D=Math.max(D,A(this).outerHeight())}).height(D)}}},activate:function(B){var C=this._findActive(B)[0];this._clickHandler({target:C},C)},_findActive:function(B){return B?typeof B=="number"?this.headers.filter(":eq("+B+")"):this.headers.not(this.headers.not(B)):B===false?A([]):this.headers.filter(":eq(0)")},_clickHandler:function(B,F){var D=this.options;if(D.disabled){return false}if(!B.target&&D.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(D.icons.headerSelected).addClass(D.icons.header);this.active.next().addClass("ui-accordion-content-active");var H=this.active.next(),E={options:D,newHeader:A([]),oldHeader:D.active,newContent:A([]),oldContent:H},C=(this.active=A([]));this._toggle(C,H,E);return false}var G=A(B.currentTarget||F);var I=G[0]==this.active[0];if(this.running||(!D.collapsible&&I)){return false}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(D.icons.headerSelected).addClass(D.icons.header);this.active.next().addClass("ui-accordion-content-active");if(!I){G.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").find(".ui-icon").removeClass(D.icons.header).addClass(D.icons.headerSelected);G.next().addClass("ui-accordion-content-active")}var C=G.next(),H=this.active.next(),E={options:D,newHeader:I&&D.collapsible?A([]):G,oldHeader:this.active,newContent:I&&D.collapsible?A([]):C.find("> *"),oldContent:H.find("> *")},J=this.headers.index(this.active[0])>this.headers.index(G[0]);this.active=I?A([]):G;this._toggle(C,H,E,I,J);return false},_toggle:function(B,I,G,J,K){var D=this.options,M=this;this.toShow=B;this.toHide=I;this.data=G;var C=function(){if(!M){return }return M._completed.apply(M,arguments)};this._trigger("changestart",null,this.data);this.running=I.size()===0?B.size():I.size();if(D.animated){var F={};if(D.collapsible&&J){F={toShow:A([]),toHide:I,complete:C,down:K,autoHeight:D.autoHeight||D.fillSpace}}else{F={toShow:B,toHide:I,complete:C,down:K,autoHeight:D.autoHeight||D.fillSpace}}if(!D.proxied){D.proxied=D.animated}if(!D.proxiedDuration){D.proxiedDuration=D.duration}D.animated=A.isFunction(D.proxied)?D.proxied(F):D.proxied;D.duration=A.isFunction(D.proxiedDuration)?D.proxiedDuration(F):D.proxiedDuration;var L=A.ui.accordion.animations,E=D.duration,H=D.animated;if(!L[H]){L[H]=function(N){this.slide(N,{easing:H,duration:E||700})}}L[H](F)}else{if(D.collapsible&&J){B.toggle()}else{I.hide();B.show()}C(true)}I.prev().attr("aria-expanded","false").attr("tabIndex","-1").blur();B.prev().attr("aria-expanded","true").attr("tabIndex","0").focus()},_completed:function(B){var C=this.options;this.running=B?0:--this.running;if(this.running){return }if(C.clearStyle){this.toShow.add(this.toHide).css({height:"",overflow:""})}this._trigger("change",null,this.data)}});A.extend(A.ui.accordion,{version:"1.7.2",defaults:{active:null,alwaysOpen:true,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},animations:{slide:function(J,H){J=A.extend({easing:"swing",duration:300},J,H);if(!J.toHide.size()){J.toShow.animate({height:"show"},J);return }if(!J.toShow.size()){J.toHide.animate({height:"hide"},J);return }var C=J.toShow.css("overflow"),G,D={},F={},E=["height","paddingTop","paddingBottom"],B;var I=J.toShow;B=I[0].style.width;I.width(parseInt(I.parent().width(),10)-parseInt(I.css("paddingLeft"),10)-parseInt(I.css("paddingRight"),10)-(parseInt(I.css("borderLeftWidth"),10)||0)-(parseInt(I.css("borderRightWidth"),10)||0));A.each(E,function(K,M){F[M]="hide";var L=(""+A.css(J.toShow[0],M)).match(/^([\d+-.]+)(.*)$/);D[M]={value:L[1],unit:L[2]||"px"}});J.toShow.css({height:0,overflow:"hidden"}).show();J.toHide.filter(":hidden").each(J.complete).end().filter(":visible").animate(F,{step:function(K,L){if(L.prop=="height"){G=(L.now-L.start)/(L.end-L.start)}J.toShow[0].style[L.prop]=(G*D[L.prop].value)+D[L.prop].unit},duration:J.duration,easing:J.easing,complete:function(){if(!J.autoHeight){J.toShow.css("height","")}J.toShow.css("width",B);J.toShow.css({overflow:C});J.complete()}})},bounceslide:function(B){this.slide(B,{easing:B.down?"easeOutBounce":"swing",duration:B.down?1000:200})},easeslide:function(B){this.slide(B,{easing:"easeinout",duration:700})}}})})(jQuery);jQuery.widget("ui.ncbiautocomplete",{_init:function(){this._createOptionsBox();this._setHandlers();this._setWebServicePath();this._lastEnteredTerm=""},_activeRequest:null,keys:{up:38,down:40,enter:13,escape:27,tab:9,shift:16},sgData:{jsevent:"autocomplete",userTyped:"",hasScrolled:false,usedArrows:false,selectionAction:"",optionSelected:"",optionIndex:-1,optionsCount:-1,optionsDisplayed:""},_setHandlers:function(){var B=this;jQuery(this.element).focus(function(){B._focused()}).keypress(function(C){B._keyPress(C)}).keydown(function(C){B._keyPress(C)}).keyup(function(C){B._keyUp(C)}).attr("AUTOCOMPLETE","OFF");var A=jQuery(this.element)[0];A.autocomplete="off";A.AUTOCOMPLETE="OFF";jQuery(window).resize(function(){if(B._isActive){B._positionOptionsBox()}});jQuery(document).click(function(C){B._checkClickEvent(C)});jQuery(this._gol.optionsBox).hover(function(){B._isOptionsBoxFocused=true},function(){B._isOptionsBoxFocused=false})},_isOptionsBoxFocused:false,_createOptionsBox:function(){if(jQuery.ui.ncbiautocomplete._globalOptionsList===null){jQuery.ui.ncbiautocomplete._globalOptionsList={};jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox=jQuery("<div class='ui-ncbiautocomplete-holder'></div>").appendTo(document.body);jQuery.ui.ncbiautocomplete._globalOptionsList.optionsList=jQuery("<ul class='ui-ncbiautocomplete-options' role='menu' aria-live='assertive'></ul>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox));jQuery.ui.ncbiautocomplete._globalOptionsList.optionsActions=jQuery("<div class='ui-ncbiautocomplete-actions'></div>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox));jQuery.ui.ncbiautocomplete._globalOptionsList.prefLink=jQuery("<a href='#' class='ui-ncbiautocomplete-link-pref'>Preferences</a>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsActions));jQuery.ui.ncbiautocomplete._globalOptionsList.turnOffLink=jQuery("<a href='#' class='ui-ncbiautocomplete-link-off'>Turn off</a>").appendTo(jQuery(jQuery.ui.ncbiautocomplete._globalOptionsList.optionsActions));jQuery.ui.ncbiautocomplete._globalOptionsList.isIE6=(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7);if(jQuery.ui.ncbiautocomplete._globalOptionsList.isIE6){jQuery.ui.ncbiautocomplete._globalOptionsList.optionsBox.iframe=jQuery("<iframe src='javascript:\"\";' class='ui-ncbiautocomplete-iframe' marginwidth='0' marginheight='0' align='bottom' scrolling='no' frameborder='0'></iframe>").appendTo(document.body)}}this._gol=jQuery.ui.ncbiautocomplete._globalOptionsList},_positionOptionsBox:function(){if(this._gol.activeElement){var Q=jQuery(this.element);var R=jQuery(this._gol.activeElement);var C=Q.attr("id")||Q[0];var A=R.attr("id")||R[0];if(C!==A){this._hideOptions()}}var H=this;if(this._gol.activeElement!==this.element){var L=(this._getData("prefUrl")!==null)?"block":"none";var O=(this._getData("disableUrl")!==null)?"block":"none";var F=(L==="block"||O==="block")?"block":"none";jQuery(this._gol.prefLink).css("display",L).attr("href",this._getData("prefUrl"));jQuery(this._gol.turnOffLink).css("display",O).unbind("click").click(function(T){H.turnOff();T.stopPropagation()});jQuery(this._gol.optionsActions).css("display",F)}else{this._gol.activeElement=this.element}var K=jQuery(this.element);var J=K.outerWidth();var E=K.outerHeight()-2;var D=K.offset();var N=jQuery(this._gol.optionsBox);if(jQuery.browser.msie){var B=0;var S=0;var M=0}else{B=parseInt(N.css("borderLeftWidth"),10);S=parseInt(N.css("borderRightWidth"),10);M=-1}N.css("top",(D.top+E)+"px").css("left",D.left+"px").width(J-B-S+M+"px");var P=parseInt(this._getData("zIndex"),10);N.css("zIndex",P);var G=jQuery(this._gol.optionsList);G[0].onscroll=function(){};G.scrollTop(0);G[0].onscroll=function(){H.sgData.hasScrolled=true};if(this._gol.isIE6){var I=jQuery(this._gol.optionsBox.iframe);I.css("top",(D.top+E)+"px").css("left",D.left+"px").width(J-B-S+M+"px");I.css("zIndex",P-1)}},_isActive:false,_focused:function(){if(this._gol.activeElement!==this.element){this._hideOptions()}this._positionOptionsBox();if(this._getData("isEnabled")){this._isActive=true;this._hasBeenEscaped=false}},_lastEnteredTerm:null,_isCached:false,_hasBeenEscaped:false,_lastKeyPressDwnUpScroll:new Date(),_lastFoundMatch:null,_findMatchInCache:function(A){this._lastFoundMatch=null;if(typeof this._localCache[this._getData("dictionary")]==="undefined"){return false}var C=0;while(A.length>1||C<10){A=A.substr(0,A.length-1);var B=this._localCache[this._getData("dictionary")][A];if(B){if(!B.isCompleteList){break}else{this._lastFoundMatch=A;return true}}C++}return false},_cloneMatchObject:function(B){var A={};A.matchedText=B.matchedText.toString();A.matches=B.matches.join("~~**~~**~~").split("~~**~~**~~");A.isCompleteList=(B.isCompleteList===true);return A},_keyPress:function(A){if(A.keyCode===this.keys.enter){this.sgData.selectionAction="enter";this.sgSend();this._hideOptions(true);this.element.trigger("ncbiautocompleteenter");A.stopPropagation();A.preventDefault();return false}else{if(A.keyCode===this.keys.tab){this.sgData.selectionAction="tab";this.sgSend();this._isOptionsBoxFocused=false;this._isActive=false;this._hideOptions(true)}else{if(jQuery(this.element).val().length===0){this._hideOptions(true)}else{if(A.keyCode===this.keys.up){this._scrollUpDownRateLimiter(-1)}else{if(A.keyCode===this.keys.down&&!A.shiftKey){this._scrollUpDownRateLimiter(1)}}}}}},_scrollUpDownRateLimiter:function(A){if(new Date()-this._lastKeyPressDwnUpScroll<90){return }this.moveSelection(A);this._lastKeyPressDwnUpScroll=new Date()},_keyUp:function(B){if(!this._getData("isEnabled")||this._hasBeenEscaped){return }var A=jQuery(this.element).val().toLowerCase().replace(/^\s+/,"").replace(/\s+$/," ");if(B.keyCode===this.keys.up){}else{if(B.keyCode===this.keys.down){}else{if(B.keyCode===this.keys.enter){}else{if(B.keyCode===this.keys.tab){this._isOptionsBoxFocused=false;this._isActive=false;this._hideOptions(true)}else{if(B.keyCode===this.keys.escape){this._isOptionsBoxFocused=false;this._isActive=false;this._hasBeenEscaped=true;this._hideOptions()}else{if(this._lastEnteredTerm===A||B.keyCode===this.keys.shift){}else{if(this._localCache[this._getData("dictionary")]&&this._localCache[this._getData("dictionary")][A]){this._isActive=true;this._lastEnteredTerm=A;this._displayOptions(this._localCache[this._getData("dictionary")][A])}else{if(this._isCached&&this._findMatchInCache(A)){this._isActive=true;this._localCache[this._getData("dictionary")][A]=this._cloneMatchObject(this._localCache[this._getData("dictionary")][this._lastFoundMatch]);this._lastEnteredTerm=A;this._filteredCache(A)}else{if(A.length>=this._getData("minLength")){if(!this._isActive){this._isActive=true;this._focused()}if(this._lastEnteredTerm===A){return }this._lastEnteredTerm=A;this._fecthOptions(A)}else{this._hideOptions()}}}}}}}}}},_webSerivcePath:null,_setWebServicePath:function(){var A=this._getData("webserviceUrl");var B="";if(!this._getData("isUrlRelative")){B=window.location.protocol+"//"+window.location.host;if(!A.charAt(0)==="/"){A="/"+A}}this._webSerivcePath=B+A},_fecthOptions:function(A){if(this._activeRequest!==null){this._activeRequest.abort()}var B=this;var C=(this._getData("responseFormat")==="old")?"text":"json";this._activeRequest=jQuery.get(this._webSerivcePath,{dict:this._getData("dictionary"),q:A},function(D,E){B._handleResponse(D,E)},C)},_handleResponse:function(B,A){this._activeRequest=null;if(A==="success"){if(this._getData("responseFormat")==="old"){this._oldFormat(B)}else{this._displayOptions(B)}}else{this.turnOff()}},_oldFormat:function(data){if(data.indexOf("_dictionary_error")!==-1){this.turnOff(true)}else{if(jQuery.trim(data).indexOf("NSuggest_CreateData")!==-1){var that=this;function NSuggest_CreateData(txt,matches,cacheStatus){var dataObj={matchedText:txt,matches:matches,isCompleteList:(cacheStatus===1)};that._displayOptions(dataObj)}eval(data)}else{this._hideOptions()}}},_localCache:{},_displayOptions:function(S){if(S.matchedText!==this._lastEnteredTerm){S.isCompleteList=true;this._filteredCache(this._lastEnteredTerm,S);return }this.sgData.userTyped=this._lastEnteredTerm;this.sgData.optionsDisplayed=S.matches.join();this.sgData.optionsCount=S.matches.length;this._positionOptionsBox();var G=this;if(!this._localCache[this._getData("dictionary")]){this._localCache[this._getData("dictionary")]={}}if(!this._localCache[this._getData("dictionary")][this._lastEnteredTerm]){this._localCache[this._getData("dictionary")][this._lastEnteredTerm]=S}if(S.matchedText==="_dictionary_error"){this.turnOff(true);return }var N=S.matchedText;var D=S.matches;this._isCached=S.isCompleteList;var T=S.previousFormat;if(!T){var Z=/([\^\$\\\?\(\)\[\]\*\+\{\}\|\/\.\,])/g;var K=this._lastEnteredTerm||"";var W=K.replace(Z,"\\$1");var M=new RegExp("("+W+")","i");var C=new Array(D.length);var I=this._getData("hasRelatedMatches");for(var V=D.length-1;V>=0;V--){var a=D[V];var F=a.indexOf("@");if(F!==-1){a=a.substr(0,F);I=true}C[V]=a.replace(M,"<span>$1</span>").replace(/\\"/g,'"')}T="<li role='menuitem'>"+C.join("</li><li role='menuitem'>")+"</li>";if(C.length===0||(!I&&T.indexOf("<span>")===-1)){this._hideOptions();return }S.previousFormat=T}var L=jQuery(this._gol.optionsBox);var X=jQuery(this._gol.optionsList);X.scrollTop(0);X.html(T);if(L.css("display")!=="block"&&this._isActive){L.css("display","block");if(this._gol.isIE6){var H=jQuery(this._gol.optionsBox.iframe).css("display","block");H.height(H.height()+jQuery(this._gol.optionsActions).height())}}else{if(!this._isActive){this._hideOptions()}}var J=L.width();jQuery("li",X).hover(function(){G._addHightlightMouse(this)},function(){G._removeHighlight("mouse")}).click(function(){G._optionClicked(this);return false});jQuery(X).mouseout(function(){G._removeHighlight("mouse");G.resetCurrentIndex()});this.resetCurrentIndex();var O=jQuery("li",L);var J=jQuery(this._gol.optionsBox).width();var R=(jQuery.browser.msie&&!this._gol.isIE6)||jQuery.browser.safari||jQuery.browser.opera;var A=O.eq(0);var P=parseFloat(A.css("padding-left"));var Y=A.html();A.html("<span>MMMMMMMMM.</span>");var E=(A.children("span:first").width())/10;A.html("<span>&hellip;<span>");var B=A.children("span:first").width();A.html(Y);var Q=X.width();var U=Math.floor((J)/E);O.each(function(){var c=jQuery(this);c.css("white-space","nowrap");var e=c.html();c.attr("fullText",e).attr("acValue",e.replace(/<\/?span>/gi,""));var k=c.width();var g=(k/c.attr("acValue").length);if(g<9){if(R){c.attr("partialText",c.html()).attr("isIEExpand",true).css("width",(Q-28)+"px")}else{var l=e.toLowerCase().indexOf("<span>");var i=e.toLowerCase().indexOf("</span>");function f(o){var m=false;if(o>=l&&o<l+6){var n=o-l;o=l+n;m=true}if(o>=i&&o<i+7){var n=o-i;o=i+n}return{cutLoc:o,addSpan:m}}var j=e.length;function h(m,p,v,u,n){var q=e.indexOf("Journal of magnetic")===0;var r=f(m);var s=e.substr(0,r.cutLoc)+(r.addCloseSpan?"</span>":"")+"&hellip;";c.html(s);if(s===u){if(c.height()!==b&&typeof n!=="undefined"){s=n}c.attr("partialText",s).css("white-space","nowrap")}else{if(c.height()===b){var y=s.toString()+"";var w=Math.floor((r.cutLoc+v)/2);h(w,r.cutLoc,v,s,y)}else{var o=Math.floor((parseInt(r.cutLoc)+parseInt(p))/2);h(o,p,r.cutLoc,s,n)}}}c.css("white-space","normal").css("width",(Q-22)+"px");var d=c.height();c.html(".");var b=c.height();c.html(e);if(d>b){h(U,0,e.length)}}}});X.scrollTop(0);this._removeHighlight("mouse")},_filteredCache:function(F,E){var G;var J=true;if(F===null){J=false}else{if(E){G=E;if(typeof this._localCache[this._getData("dictionary")]==="undefined"){this._localCache[this._getData("dictionary")]={}}}else{G=this._localCache[this._getData("dictionary")][F]}G.matchedText=F;if(!this._getData("hasRelatedMatches")){var C=/([\^\$\\\?\(\)\[\]\*\+\{\}\|\/\.\,])/g;var B=F.replace(C,"\\$1");var A=new RegExp(B,"ig");var H=G.matches.join("!!!~~~!!!").split("!!!~~~!!!");for(var D=H.length-1;D>=0;D--){if(H[D].match(A)===null){var I=H.splice(D,1)}}G.matches=H;this._localCache[this._getData("dictionary")][F]=G;G=null;J=(H.length>0)}}if(J){this._displayOptions(this._localCache[this._getData("dictionary")][F])}else{this._hideOptions()}},_removeHighlight:function(B){if(B==="mouse"&&new Date()-this._lastKeyPressDwnUpScroll<100){return }var A=this;jQuery("li",this._gol.optionsList).removeClass("ui-ncbiautocomplete-options-high").each(function(){A._collapseOption(this)})},_addHightlightMouse:function(A){if(new Date()-this._lastKeyPressDwnUpScroll>100){this.resetCurrentIndex();this._currIndex=jQuery(A).prevAll("li").length;this._addHightlight(A)}},_addHightlight:function(B){this._removeHighlight();jQuery(B).addClass("ui-ncbiautocomplete-options-high");var A=this;if(this._expandTimer){window.clearTimeout(this._expandTimer)}this._expandTimer=window.setTimeout(function(){A._expandOption(B)},this._getData("expandPauseTime"))},_expandOption:function(B){if(jQuery(B).hasClass("ui-ncbiautocomplete-options-high")){var B=jQuery(B).attr("isExpanded",true);var A=B.attr("fullText");if(B.html()!==A||B.attr("isIEExpand")){B.html(A).css("text-overflow","").css("white-space","normal").css("-o-text-overflow","");this._scrollIntoView()}}},_collapseOption:function(A){var A=jQuery(A);if(A.attr("isIEExpand")){A.css("text-overflow","ellipsis").css("white-space","nowrap").css("-o-text-overflow","ellipsis")}else{A.css("white-space","nowrap").html(A.attr("partialText"))}},_optionClicked:function(B){B=jQuery(B);var A=this.cleanUpSelectionText(B);this.sgData.optionSelected=A;this.sgData.optionIndex=this._currIndex;this.sgData.selectionAction="click";this.sgSend();jQuery(this.element).val(A);this.element.trigger("ncbiautocompleteoptionclick");this._isOptionsBoxFocused=false;this._hideOptions()},_hideOptions:function(A){this._gol.activeElement=null;if(this._isOptionsBoxFocused&&!A){return }var B=jQuery(this._gol.optionsBox);if(A){jQuery(this._gol.optionsBox).css("display","none")}if(this._gol.isIE6){jQuery(this._gol.optionsBox.iframe).css("display","none")}this.resetCurrentIndex();this._isActive=false;this._lastEnteredTerm=null;var B=jQuery(this._gol.optionsBox);var C=jQuery(this._gol.optionsList);B.css("display","none");C.html("")},setTextCursorToEnd:function(A){var B=this.element;jQuery(B).val(A);if(B.createTextRange){var C=TB.createTextRange();C.moveStart("character",B.value.length);C.collapse();C.select()}},resetCurrentIndex:function(){this._currIndex=-1},cleanUpSelectionText:function(A){return jQuery.trim(A.attr("acValue")).replace(/&amp;/gi,"&").replace(/\\"/g,'"')},_currIndex:-1,moveSelection:function(D){if(!this._isActive){return }this.sgData.usedArrows=true;var C=jQuery("li",this._gol.optionsList);var E=C.length;this._currIndex+=D;this._removeHighlight();var B=this._lastEnteredTerm;if(B===null||B.length<2){return }if(this._currIndex<0||this._currIndex>=E){if(this._currIndex===-2){this._currIndex=E-1}else{this._currIndex=-1}}if(this._currIndex!==-1){var A=jQuery("li:eq("+this._currIndex+")",this._gol.optionsList);B=this.cleanUpSelectionText(A);this._addHightlight(A)}this.setTextCursorToEnd(B);this._scrollIntoView();this.sgData.optionSelected=B;this.sgData.optionIndex=this._currIndex},_scrollIntoView:function(){var A=jQuery("li:eq("+this._currIndex+")",this._gol.optionsList);if(A.length===0){return }var E=jQuery(this._gol.optionsList);var G=E.height();var C=E.scrollTop();var F=A[0].offsetTop;var H=A.height();if(F-G+H>C){var D=jQuery("li:eq("+(this._currIndex+1)+")",this._gol.optionsList);var B=(D.length===1)?D[0].offsetTop:F+H+10;E.scrollTop(B-G)}else{if(F<C){E.scrollTop(F)}}},turnOff:function(B){this._setData("isEnabled",false);this._isOptionsBoxFocused=false;this._hideOptions();if(!B){var C=this._getData("disableUrl");if(C!==null&&C.length>0){var D=C.split(".");var E=window;for(var A=0;A<D.length;A++){E=E[D[A]];if(!E){break}}if(typeof E==="function"){E()}else{jQuery.get(C)}}}},_checkClickEvent:function(A){if(!this._isActive){return }if(jQuery(this.element)[0]==A.target){return }else{this._isOptionsBoxFocused=false;this._isActive=false;this._hideOptions()}},sgSend:function(){if(typeof ncbi!=="undefined"&&typeof ncbi.sg!=="undefined"&&typeof ncbi.sg.ping!=="undefined"){ncbi.sg.ping(this.sgData,false)}}});jQuery.ui.ncbiautocomplete._globalOptionsList=null;jQuery.ui.ncbiautocomplete.getter="";jQuery.ui.ncbiautocomplete.defaults={webserviceUrl:"/portal/utils/autocomp.fcgi",isUrlRelative:false,dictionary:"",responseFormat:"old",disableUrl:null,prefUrl:null,zIndex:1001,isEnabled:true,hasRelatedMatches:false,minLength:2,expandPauseTime:400};jQuery.widget("ui.ncbigrid",{_init:function(){if(typeof jQuery.ui.jig._setLocalConfig==="function"){var B=this.element;var A=this.element.attr("config");if(!A){if(this.element.parent().attr("config")){B=this.element.parent()}else{if(this.element.parent().parent().attr("config")){B=this.element.parent().parent()}}}this.options=jQuery.ui.jig._setLocalConfig(jQuery(B),this.options)}this._validTableCheck();this._setUpWrappers();this._configureClasses();if(this._getData("isServersideLoad")){this._initial_serversideFetch()}else{this._runSetUp()}},_validTableCheck:function(){var A=(jQuery(this.element).filter(":has(thead th):has(tbody)").length===1);if(!A){throw"The table ["+jQuery(this.element).attr("id")+"] is not valid. Table needs a thead with th and a tbody"}},_setUpWrappers:function(){var B=jQuery(this.element).parent();var A=B.parent();if(B.hasClass("ui-ncbigrid-inner-div")){return }else{if(B.hasClass("ui-ncbigrid-scroll")||B.hasClass("ui-ncbigrid")||B.hasClass("jig-ncbigrid")||B.hasClass("jig-ncbigrid-scroll")){jQuery(this.element).wrap("<div class='ui-ncbigrid-inner-div'></div>")}else{var C=jQuery(this.element);var D=(C.hasClass("ui-ncbigrid-scroll")||C.hasClass("jig-ncbigrid-scroll"))?"ui-ncbigrid-scroll":"ui-ncbigrid";C.wrap("<div class='"+D+"'></div>");C.wrap("<div class='ui-ncbigrid-inner-div'></div>")}}},_configureClasses:function(){var T=jQuery(this.element);var H=T.parent();var I=H.parent();var P=T[0].style.width;var W=I.hasClass("jig-ncbigrid-scroll")?"ui-ncbigrid-scroll":"ui-ncbigrid";I.addClass(W+" ui-grid ui-widget ui-widget-content ui-corner-all");jQuery(this.element).addClass("ui-grid-content ui-widget-content");var S=jQuery("caption",this.element).addClass("ui-grid-header ui-widget-header ui-corner-top");if(S.length===0){S=T.addClass("ui-corner-top");H.addClass("ui-ncbigrid-inner-div-captionless")}jQuery("thead tr th",this.element).addClass("ui-state-default");jQuery("tbody tr td",this.element).addClass("ui-widget-content");var V=false;if(this._getData("width")){I.width(this._getData("width"));V=true}if(P){if(!V){I.width(P)}T.css("width","100%")}if(!this._getData("isPagable")){T.addClass("ui-corner-bottom")}var C=this._getData("scrollHeight");if(C!==null){if(jQuery.browser.msie){var F=jQuery("tr:first-child",this.element);var A=F.height();var R=H.css("height",C).height();var Q=I.css("padding-top")||0;H.height(R+A-parseInt(Q,10))}else{jQuery("tbody",this.element).css("height",C)}}else{if(jQuery.browser.msie){T.height(T.parent().height());var Q=I.css("padding-top")||0;var B=I.css("padding-bottom")||0;var J=(this._getData("isSortable"))?7:0;H.height(H.height()+parseInt(Q,10)+parseInt(B,10)+J)}}var E=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;this._isScrollable=I.hasClass("ui-ncbigrid-scroll");if(jQuery.browser.msie){this.element.attr("cellspacing","0px");jQuery(this.element).css("borderBottom","0px");if(this._isScrollable){var U=jQuery("thead tr",this.element);this._adjustWidthIE();var L=this;jQuery(window).bind("resize",function(){L._adjustWidthIE()});var D=jQuery("caption",this.element);if(D.length===1){if(parseFloat(jQuery.browser.version)>=8){this.element.css("margin-top","0px")}else{var K=D.outerHeight();this.element.css("margin-top",-K+"px")}D.css("zIndex","-1");jQuery("<div></div>").addClass(D.attr("className")).html(D.html()).insertBefore(this.element.parent())}jQuery(window).load(function(){L._renderFixForIE()});this.element.bind("ncbigriddocumentheightchanged",function(){L._renderFixForIE()});this._iePageListener();var O=H[0];var M=function(){U.css("top",H.scrollTop())};U.css("position","relative").children().css("position","relative").children().css("position","relative").children().css("position","relative");if(parseFloat(jQuery.browser.version)>=8){U=jQuery("thead tr, thead tr th",this.element);H.mousemove(function(){M()});H.bind("mousewheel",function(){M()});var N=null;H.hover(function(){N=window.setInterval(M,1)},function(){if(N){window.clearInterval(N)}N=null});if(this._isScrollable){if(S){S.css("display","none")}}}H.scroll(function(){M();setTimeout(function(){M()},5)});M()}}else{if(jQuery.browser.safari||jQuery.browser.opera){var L=this;this._safariScrollFix();var G=function(){L._safariResizeScrollFix()};jQuery(window).resize(G).load(G);this.element.bind("ncbigridpagedisplayed",G);jQuery("caption",this.element).css("margin-right","-2px")}}},_isScrollable:null,_adjustWidthIE:function(){this.element.width(this.element.parent().outerWidth()-16+"px")},_iePageListener:function(){if(jQuery.ui.ncbigrid.iePageListener===null){var A=jQuery("body").windowFrame().height;jQuery.ui.ncbigrid.iePageListener={_lastHeight:A,elements:jQuery(this.element),timer:window.setInterval(function(){var B=jQuery("body").windowFrame().height;if(B!==jQuery.ui.ncbigrid.iePageListener._lastHeight){jQuery.ui.ncbigrid.iePageListener._lastHeight=B;jQuery.ui.ncbigrid.iePageListener.elements.trigger("ncbigriddocumentheightchanged")}},100)}}else{jQuery.ui.ncbigrid.iePageListener.elements=jQuery.ui.ncbigrid.iePageListener.elements.add(jQuery(this.element))}},_safariScrollFix:function(B){var H=jQuery("thead",this.element);var E=jQuery("tbody",this.element);var D=jQuery("thead th",this.element);var G=D.length-1;var A=this._setTDCellWidths("tbody tr:visible:eq(0) td",G,!B);this._setTHCellWidths(D,A,G,B);H.css("display","block");E.css("display","block");if(this._isScrollable&&jQuery("tbody",this.element).width()-jQuery("tbody tr:visible:eq(0)",this.element).width()===0){var F=jQuery(D[G]);var C=(this._isScrollable)?16:0;F.width(F.outerWidth()-C)}},_resetCellWidths:function(A){jQuery(A,this.element).each(function(D,E){var B=jQuery(E);var C=B.attr("orgCSSWidth");if(C){B.width(C)}else{B.width("auto")}})},_setTDCellWidths:function(C,E,A){var B=[];var D=this;jQuery(C,this.element).each(function(J,K){var F=jQuery(K);var H=F.width();B[J]=F.outerWidth();var G=F[0].style.width;if(!F.attr("orgCSSWidth")&&G){F.attr("orgCSSWidth",G)}var I=(J===E&&A&&D._isScrollable)?16:0;F.css("width",H-I)});return B},_setTHCellWidths:function(C,B,F,A){var E=0;var G=[];var D=this;C.each(function(M,O){var H=jQuery(O);var J=H.width();G[M]=J;var I=H[0].style.width;if(!H.attr("orgCSSWidth")&&I){H.attr("orgCSSWidth",I)}var L=H.outerWidth();var N=L-J;J=B[M]-N;var K=(M===F&&A&&D._isScrollable)?15:0;H.css("width",J+K);if(M!=F){E+=J}})},_safariResizeScrollFix:function(){this._safariRemoveScrollFix();this._safariScrollFix(true)},_safariSortPageScrollFix:function(){this._safariRemoveScrollFix()},_safariRemoveScrollFix:function(){var B=jQuery("thead",this.element);var A=jQuery("tbody",this.element);this._resetCellWidths("tbody tr:eq(0) td");this._resetCellWidths("thead th");A.css("display","");B.css("display","")},_runSetUp:function(){this._initBuildFeatures();this._initSetupView()},_initBuildFeatures:function(){this.initializeSort();this._buildPagingButtons();this._createZebraStripes()},_initSetupView:function(){var A=this._getData("currentPage");if(this._getData("isSortable")){var C=this._getData("sortColumn")-1;if(this._getData("isPresorted")){this._sortSetHeaderImage(C)}else{if(C>=0&&C<this.getColumnCount()){this._setData("sortColumn",-1);this._sort(C,this._getData("sortColumnDir"))}}}if(A!==0){if(isNaN(A)){A=1}this._setData("currentPage",A-1)}if(this._getData("isPagable")){this.gotoPage(A)}else{if(this._getData("isServersidePagingCached")&&!this._getData("isServersideLoad")){var B=jQuery("tbody",this.element)[0].innerHTML;if(B.length>0){this._setCachedPage(this._getData("sortColumn"),this._getData("sortColumnDir"),this._getData("currentPage"),B)}}}this._createZebraStripes()},initializeSort:function(){if(this._getData("isSortable")||this._getData("isServersideSort")){var A=this;jQuery("tr th",this.element).each(function(){var E=arguments[0];if(A._getColumnType(E)!=="none"){var D=A._getData("titleAscending")||"sort ascending";var C="";isArray=false;if(typeof D==="string"){C=D}else{C="";isArray=true}var B=jQuery(this).prepend('<span class="ui-icon ui-icon-triangle-2-n-s" title="'+C+'"></span>').wrapInner('<a href="#" title="'+C+'"></a>').click(function(){A._sort(this,E);return false}).hover(function(F){jQuery(this).addClass("ui-state-hover");A._renderFixForIE()},function(){jQuery(this).removeClass("ui-state-hover")});if(isArray){jQuery("tr th",A.element).each(function(F,G){var H=D[F];jQuery("span, a",G).attr("title",H)})}}})}},_renderFixForIE:function(){if(jQuery.browser.msie){jQuery("thead tr, thead tr th",this.element).css("display","none").css("display","")}this._adjustWidthIE()},sort:function(A,B){A--;this._sort(A,B)},_sort:function(C,B){this._sortSetHeaderImage(C,B);if(this._getData("isServersideSort")){var A=this;var D=function(){A._sortAdjustView()};this._serversideFetch(D);this.element.trigger("ncbigridcolumnsorted",[this._getData("sortColumn")+1,this._getData("sortColumnDir")])}else{this._csSortColumn()}},_sortSetHeaderImage:function(C,E){var M=null;if(typeof (C)!=="object"){if(typeof E!="undefined"){M=E}E=C;C=jQuery("thead tr th:eq("+C+")",this.element)}var I=this._getData("titleDescending")||"sort descending";var F=this._getData("titleAscending")||"sort ascending";var D=null;var K=null;if(typeof I!=="string"){D=this._getData("titleDescending");K=this._getData("titleAscending");I="";F=""}this._setSortDirection(E,M);var H=(this._getData("sortColumnDir")===-1);var J=(H)?"ui-icon-triangle-1-s":"ui-icon-triangle-1-n";var L=(H)?F:I;jQuery("tr th",this.element).removeClass("ui-state-active");var G=jQuery("tr th a",this.element).attr("title",F);var A=jQuery("tr th span",this.element).removeClass("ui-icon-triangle-1-s").removeClass("ui-icon-triangle-1-n").addClass("ui-icon-triangle-2-n-s").attr("title",F);jQuery("span",C).removeClass("ui-icon-triangle-2-n-s").addClass(J).attr("title",L);jQuery(C).parent().children("th").removeClass("sorted");jQuery("a",C).attr("title",L);if(D!==null){var B=this._getData("sortColumn");jQuery("tr th",this.element).each(function(O,N){if(B===O){var P=(H)?K[O]:D[O]}else{P=K[O]}jQuery("span, a",N).attr("title",P)})}},_setSortDirection:function(B,C){var D=this._getData("sortColumn");var A=1;if(C!=null){A=C}else{if(D==B){A=this._getData("sortColumnDir")*-1}}this._setData("sortColumn",B);this._setData("sortColumnDir",A)},getColumnType:function(A){return this._getColumnType(A-1)},_getColumnType:function(C){var E=this._getData("columnTypes");var A=E.length;if(C>=A&&A.length!==0){return undefined}else{if(A===0){return"str"}else{var B=E[C];if(B.indexOf("fnc:")===0){var F=B.substr(4,B.length).split(".");B=window[F[0]];for(var D=1;D<F.length;D++){B=B[F[D]]}}return B}}},_csSortColumn:function(){if(jQuery.browser.safari||jQuery.browser.opera){this._safariSortPageScrollFix()}var B=this;var E=new Array();var A=this._getData("sortColumn");var H=this._getData("sortColumnDir");var F=this._getColumnType(A);jQuery("tbody tr",this.element).each(function(K,L){var N=jQuery(L);var M=B._csColumnTypeConversion(N.children()[A],F);N.removeClass("ncbigrid-row-odd").removeClass("ncbigrid-row-even");E[K]={data:M,clonedRow:N.clone(true)}});if(typeof F==="function"){E=E.sort(function(L,K){return F.call(B,L,K)})}else{E=E.sort(function(L,K){return B._csSortFnc(L,K)})}var G=jQuery("tbody tr",this.element);var C=G.length;var J=0;var I=this._getData("_isPagable")?this._getData("pageSize"):20;(function D(){for(var L=0;L<I&&J<C;L++){var K=jQuery(G[J]);B._createZebraIndvRow(E[J].clonedRow,J,true,A);K.replaceWith(E[J].clonedRow);J++}if(J<C){window.setTimeout(D,1)}else{if(jQuery.browser.safari||jQuery.browser.opera){B._safariResizeScrollFix()}B._sortAdjustView();B.element.trigger("ncbigridcolumnsorted",[B._getData("sortColumn")+1,B._getData("sortColumnDir")]);B._fixIE6Highlight()}})()},_fixIE6Highlight:function(){var A=jQuery.browser.msie&&parseFloat(jQuery.browser.version)<7;if(A){jQuery(".ncbigrid-row-odd-high-IE6, .ncbigrid-row-even-high-IE6",this.element).each(function(B,D){var C=jQuery(D);if(C.hasClass("ncbigrid-row-even")){C.removeClass("ncbigrid-row-odd-high-IE6").addClass("ncbigrid-row-even-high-IE6")}else{C.addClass("ncbigrid-row-odd-high-IE6").removeClass("ncbigrid-row-even-high-IE6")}})}else{this._fixIE6Highlight=function(){}}},_csSortFnc:function(B,A){return(B.data>A.data)?this._getData("sortColumnDir"):(B.data<A.data)?-this._getData("sortColumnDir"):0},_csColumnTypeConversion:function(A,B,C){var D="";if(C){D=A.innerHTML}else{D=jQuery(A).text()}D=jQuery.trim(D);switch(B){case"int":aCell=parseInt(D,10);break;case"float":case"num":aCell=parseFloat(D);break;case"date":aCell=new Date(D);break;case"str-sensitive":aCell=D;break;case"str-insensitive":aCell=D.toLowserCase();break;default:aCell=D.toLowerCase();break}return aCell},_sortAdjustView:function(){if(this._getData("isPagable")||this._getData("isServersidePaging")){this._gotoPage(0)}},_displayPage:function(){this._setPagingButtonsState();var B=this._getData("pageSize");var D=this._getData("currentPage");var C=B*D;var A=C+B;if(this._getData("isServersidePaging")){this._serversideFetch()}else{jQuery("tbody tr",this.element).css("display","none");jQuery("tbody tr[isfiltered!=true]",this.element).slice(C,A).css("display","");this._createZebraStripes()}},_setPagingButtonsState:function(){var I=this._getData("currentPage");var B=(I===0);var F=(I===this._getMaxPage());var D="ui-state-default";var K="ui-state-disabled";var J="ui-state-default";var G="ui-state-disabled";if(B){D="ui-state-disabled";K="ui-state-default"}if(F){J="ui-state-disabled";G="ui-state-default"}this.prevBtn.attr("disabled",B).addClass(D).removeClass(K);this.nextBtn.attr("disabled",F).addClass(J).removeClass(G);var C=I+1;this.currentTB.val(C);this.pageNums.text("Page "+C+" of "+(this.getMaxPage()));var A=this._getData("pageSize");var E=A*I;var L=E+A;var H=this.getRowCount();if(L>H){L=H}this.itemHolderDisplay.text("Items "+(E+1)+" - "+L)},getColumnCount:function(){return jQuery("tbody tr:eq(1) td",this.element).length},getRowCount:function(){return jQuery("tbody tr[isfiltered!=true]",this.element).length},getMaxPage:function(){return this._getMaxPage()+1},_getMaxPage:function(){var A=this._getData("maxCount")||this.getRowCount();return Math.ceil(A/this._getData("pageSize"))-1},getCurrentPage:function(){return parseInt(this._getData("currentPage"),10)+1},gotoNextPage:function(){var A=this._getData("currentPage")+1;this._gotoPage(A)},gotoPrevPage:function(){var A=this._getData("currentPage")-1;this._gotoPage(A)},gotoLastPage:function(){var A=this._getMaxPage();this._gotoPage(A)},gotoFirstPage:function(){this._gotoPage(0)},gotoPage:function(A){if(isNaN(A)){alert("Page's argument needs to be a number!");return }this._gotoPage(parseFloat(A)-1)},_gotoPage:function(C,B){if(!(this._getData("isPagable")||this._getData("isServersidePaging"))){return }this._setData("currentPage",C);var A=this._getMaxPage();if(C<0){this._setData("currentPage",0)}else{if(C>A){this._setData("currentPage",A)}}this._displayPage();this.element.trigger("ncbigridpagedisplayed",[this.getCurrentPage()])},_buildPagingButtons:function(){if(this._getData("isPagable")||this._getData("isServersidePaging")){var A=jQuery(this.element).parent();if(this.element.parent().parent().hasClass("ui-ncbigrid-scroll")){A=A.parent()}var I=jQuery('<div class="ui-grid-footer ui-widget-header ui-corner-bottom ui-helper-clearfix ui-ncbigrid-pagination"></div>');this.itemHolderDisplay=jQuery('<div class="ui-ncbigrid-pagination-space ui-ncbigrid-pagination-items"></div>');var B=jQuery('<div class="ui-ncbigrid-pagination-center ui-ncbigrid-pagination-space"></div>');var E='<a href="#" class="ui-ncbigrid-pagination-page-button ui-ncbigrid-pagination-prev ui-state-default ui-widget-header ui-corner-all"><span>&lt;</span> Previous</a>';var H='<a href="#" class="ui-ncbigrid-pagination-page-button ui-ncbigrid-pagination-next ui-state-default ui-widget-header ui-corner-all">Next <span>&gt;</span></a>';var F='<span class="pageno">Page 1 of 4</span>';this.prevBtn=jQuery(E).appendTo(B);this.pageNums=jQuery(F).appendTo(B);this.nextBtn=jQuery(H).appendTo(B);var D=jQuery('<div class="ui-ncbigrid-pagination-goto ui-ncbigrid-pagination-space"></div>');var G=jQuery("<label>Go to Page</label>").appendTo(D);var J='<input class="ui-ncbigrid-pagination-page-button ui-ncbigrid-pagination-next ui-state-default ui-widget-content ui-corner-all" type="text" size="3" value="1" style="text-align: center" />';this.currentTB=jQuery(J).appendTo(D);this.itemHolderDisplay.appendTo(I);B.appendTo(I);D.appendTo(I);var C=this;this.prevBtn.click(function(){if(jQuery(this).attr("disabled")=="true"){return false}C.gotoPrevPage();return false});this.nextBtn.click(function(){if(jQuery(this).attr("disabled")=="true"){return false}C.gotoNextPage();return false});this.currentTB.change(function(){C.gotoPage(parseInt(this.value,10))});this.currentTB.keyup(function(K){if(K.keyCode==13){C.gotoPage(parseInt(this.value,10))}});I.appendTo(A);this._setPagingButtonsState()}},_initial_serversideFetch:function(){var A=this;var B=function(){A._runSetUp();var C=A._getData("sortColumn");A._setData("sortColumn",-1);A._sortSetHeaderImage(C)};this._serversideFetch(B)},_serversideFetch:function(E){var D={data:null};var G=this._getData("currentPage");var C=this._getData("isServersidePagingCached");if(C){D=this._getCachedPage()}if(!D.data){var B=this._getData("webservice");var A=this._serversideParams();if(B!=null){var F=this;jQuery.get(B+A,function(H){jQuery("tbody",F.element).html(H);jQuery("tbody tr td",this.element).addClass("ui-widget-content");F._createZebraStripes();if(C){F._setCachedPage(D.column,D.direction,D.page,H)}if(typeof E==="function"){E()}F.element.trigger("ncbigridserverdataloaded",[H])})}}else{jQuery("tbody",this.element).html(D.data);this._createZebraStripes()}},_serversideParams:function(){var A=[];if(this._getData("isServersideSort")){var B=this._getData("sortColumn");if(B>=-1){if(this._getData("columnNames").length>0){B=this._getData("columnNames")[B]}A.push("col="+B);A.push("dir="+this._getData("sortColumnDir"))}}if(this._getData("isServersidePaging")){A.push("page="+this._getData("currentPage"));A.push("pageSize="+this._getData("pageSize"))}if(A.length>0){return"?"+A.join("&")}else{return""}},_serverPageCache:[],_getCachedPage:function(){var A=this._getData("currentPage");var D=this._getData("sortColumn");var C=this._getData("sortColumnDir");var B=null;if(typeof this._serverPageCache[D]!="undefined"&&typeof this._serverPageCache[D][C]!="undefined"&&typeof this._serverPageCache[D][C][A]!="undefined"){B=this._serverPageCache[D][C][A]}return{page:A,column:D,direction:C,data:B}},_setCachedPage:function(B,A,D,C){if(!this._serverPageCache[B]){this._serverPageCache[B]=new Array()}if(!this._serverPageCache[B][A]){this._serverPageCache[B][A]=new Array()}this._serverPageCache[B][A][D]=C},clearPageCache:function(){this._serverPageCache=[]},_createZebraStripes:function(){var C=this;var B=this._getData("sortColumn");var A=(this._getData("isSortable")||this._getData("isServersideSort"))&&B!==-1;if(this._getData("isZebra")){jQuery("tbody tr:visible",this.element).each(function(D){C._createZebraIndvRow(this,D,A,B)})}},_createZebraIndvRow:function(C,B,A,D){if(B%2===0){jQuery(C).addClass("ncbigrid-row-odd").removeClass("ncbigrid-row-even")}else{jQuery(C).addClass("ncbigrid-row-even").removeClass("ncbigrid-row-odd")}if(A){jQuery(jQuery(C).children("td").removeClass("sorted").get(D)).addClass("sorted")}},filterRows:function(A,E,D){if(typeof A=="undefined"||A.length===0){return }var F=(E)?"-insensitive":"";var G;var C="";if(typeof D!="undefined"){G=jQuery("tbody tr",this.element).not(jQuery("tbody tr td:nth-child("+D+"):contains-insensitive("+A+")",this.element).parent()).each(function(H,I){jQuery(I).addClass("ncbigrid-row-hide").attr("isfiltered","true")})}else{G=jQuery("tbody tr:not(:contains"+F+"("+A+"))",this.element).each(function(H,I){jQuery(I).addClass("ncbigrid-row-hide").attr("isfiltered","true")})}if(this._getData("isPagable")){this._gotoPage(0)}this._createZebraStripes();var B=jQuery("tbody tr",this.element).not(G);this.element.trigger("ncbigridfilterapplied",[A,E,D,G,B]);return{filteredRows:G,remainingRows:B}},removeFilterRows:function(A,D,C){if(typeof A!="undefined"&&A.length>0){var B="";if(typeof C!="undefined"){B=":nth-child("+C+")";jQuery("tbody tr, this.element").not(jQuery("tbody tr td:nth-child("+C+"):contains-insensitive("+A+")",this.element).parent()).each(function(F,G){jQuery(G).removeClass("ncbigrid-row-hide").attr("isfiltered","false")})}else{var E=(D)?"-insensitive":"";jQuery("tbody tr:not(:contains"+E+"("+A+"))",this.element).each(function(F,G){jQuery(G).removeClass("ncbigrid-row-hide").attr("isfiltered","false")})}}else{jQuery(".ncbigrid-row-hide",this.element).removeClass("ncbigrid-row-hide").attr("isfiltered","false")}if(this._getData("isPagable")){this._gotoPage(0)}this._createZebraStripes();this.element.trigger("ncbigridfilterremoved",[A,D,C])},highlightRows:function(A,D,C){var G=jQuery.browser.msie&&parseFloat(jQuery.browser.version)<7;if(typeof A=="undefined"||A.length===0){return }var F=[];var E=(D)?"-insensitive":"";if(typeof C!="undefined"){var B=":nth-child("+C+")";jQuery("tbody tr td"+B+":contains"+E+"("+A+")",this.element).each(function(J,K){var I=jQuery(K).parent();var H="ui-ncbigrid-high";if(G){H=I.hasClass("ncbigrid-row-even")?"ncbigrid-row-even-high-IE6":"ncbigrid-row-odd-high-IE6"}I.addClass(H);if(jQuery.inArray(I,F)===-1){F.push(I)}})}else{jQuery("tbody tr:contains"+E+"("+A+")",this.element).each(function(J,K){var I=jQuery(K);var H="ui-ncbigrid-high";if(G){H=I.hasClass("ncbigrid-row-even")?"ncbigrid-row-even-high-IE6":"ncbigrid-row-odd-high-IE6"}I.addClass(H);F.push(I)})}this.element.trigger("ncbigridhighlightapplied",[A,D,C,F]);return{highlightedRows:F}},removeHighlightRows:function(A,D,C){var G=jQuery.browser.msie&&parseFloat(jQuery.browser.version)<7;if(typeof A!="undefined"&&A.length>0){var F=[];var E=(D)?"-insensitive":"";if(typeof C!="undefined"){var B=":nth-child("+C+")";jQuery("tbody tr td"+B+":contains"+E+"("+A+")",this.element).each(function(I,J){var H=jQuery(J).parent().removeClass("ui-ncbigrid-high");if(G){H.removeClass("ncbigrid-row-odd-high-IE6").removeClass("ncbigrid-row-even-high-IE6")}if(jQuery.inArray(H,F)===-1){F.push(H)}})}else{jQuery("tbody tr:contains"+E+"("+A+")",this.element).each(function(I,J){var H=jQuery(J).removeClass("ui-ncbigrid-high");if(G){H.removeClass("ncbigrid-row-odd-high-IE6").removeClass("ncbigrid-row-even-high-IE6")}F.push(H)})}}else{jQuery(".ui-ncbigrid-high",this.element).removeClass("ui-ncbigrid-high");if(G){jQuery(".ncbigrid-row-odd-high-IE6, .ncbigrid-row-even-high-IE6",this.element).removeClass("ncbigrid-row-odd-high-IE6").removeClass("ncbigrid-row-even-high-IE6")}}this.element.trigger("ncbigridhighlightremoved",[A,D,C])},getCellData:function(B,A){if(typeof B=="undefined"||typeof A=="undefined"){return }else{return this._getCellDataHelper(B,A)}},_getCellDataHelper:function(D,B){if(D<=0||D>this.getRowCount()||B<0||B>this.getColumnCount()){return null}var A=jQuery("tbody tr:nth-child("+D+") td:nth-child("+B+")",this.element);if(!A){return }else{var C=this._getColumnType(B-1);if(C==="str"||!C){C="str-sensitive"}return this._csColumnTypeConversion(A[0],C,true)}},getRowData:function(C){if(typeof C==="undefined"){return }else{if(jQuery.isArray(C)){var B=[];for(var A=0;A<C.length;A++){B.push(this._getRowDataHelper(C[A]))}return B}else{return this._getRowDataHelper(C)}}},_getRowDataHelper:function(C){var B=[];var A=this;jQuery("tbody tr:nth-child("+C+") td",this.element).each(function(E,F){var D=A._getColumnType(E);if(D==="str"||!D){D="str-sensitive"}B.push(A._csColumnTypeConversion(F,D,true))});if(B.length===0){return }else{return B}},getColumnData:function(A){if(typeof A==="undefined"){return null}else{if(jQuery.isArray(A)){var C=[];for(var B=0;B<A.length;B++){if(A[B]<=0||A[B]>this.getColumnCount()){C.push(null)}C.push(this._getColumnDataHelper(A[B]))}return C}else{if(A<=0||A>this.getColumnCount()){return null}return this._getColumnDataHelper(A)}}},_getColumnDataHelper:function(A){var D=[];var B=this;var C=this._getColumnType(A-1);if(C==="str"||!C){C="str-sensitive"}jQuery("tbody tr td:nth-child("+A+")",this.element).each(function(E,F){D.push(B._csColumnTypeConversion(F,C,true))});if(D.length===0){return }else{return D}},deleteRow:function(B){if(typeof B=="undefined"){return }else{if(!jQuery.isArray(B)){B=[B]}else{B=B.sort()}}for(var A=B.length-1;A>=0;A--){this._deleteRowHelper(":nth-child("+B[A]+")")}if(this._getData("isPagable")||this._getData("isServersidePaging")){this._gotoPage(this._getData("currentPage"))}},deleteAllRows:function(){this._deleteRowHelper();if(this._getData("isPagable")||this._getData("isServersidePaging")){this._gotoPage(0)}},_deleteRowHelper:function(A){A=A||"";this.clearPageCache();jQuery("tbody tr"+A,this.element).remove()},addHTMLRowData:function(D,B,C){var A="";if(typeof B=="undefined"){A=":last-child"}else{A=":nth-child("+B+")"}if(C&&C.toLowerCase()==="before"){jQuery("tbody tr"+A,this.element).before(D)}else{jQuery("tbody tr"+A,this.element).after(D)}if(this._getData("isPagable")||this._getData("isServersidePaging")){this._displayPage()}jQuery("tbody tr td",this.element).addClass("ui-widget-content");this._createZebraStripes()},setCellData:function(C,A,B){jQuery("tbody tr:nth-child("+C+") td:nth-child("+A+")",this.element).text(B);this.element.trigger("ncbigridcellchange",[C,A,this.getCellData(C,A)])},setRowData:function(B,A){jQuery("tbody tr:nth-child("+B+") td",this.element).each(function(C,D){jQuery(D).text(A[C])});this.element.trigger("ncbigridrowchange",[B,this.getRowData(B)])}});jQuery.ui.ncbigrid.getter="getCellData, getRowData, getColumnData, getRowCount, getColumnCount, getMaxPage, getColumnType, getCurrentPage, highlightRows, filterRows";jQuery.ui.ncbigrid.defaults={isSortable:false,isPresorted:false,sortColumn:-1,sortColumnDir:1,columnTypes:[],isPagable:false,pageSize:5,currentPage:0,maxPage:null,maxCount:null,isServersideLoad:false,isServersideSort:false,isServersidePaging:false,isServersidePagingCached:false,webservice:null,columnNames:[],isZebra:true,scrollHeight:null,width:null,titleAscending:null,titleDescending:null};jQuery.ui.ncbigrid.version="1.2";jQuery.ui.ncbigrid._customLocalConfig="true";jQuery.ui.ncbigrid.iePageListener=null;jQuery.extend(jQuery.expr[":"],{"contains-insensitive":function(C,B,A,D){return(C.textContent||C.innerText||"").toLowerCase().indexOf((A[3]||"").toLowerCase())>=0}});(function(D){var A=D.browser.msie&&D.browser.version=="6.0"||false;var C=D.browser.safari||false;var E=null;var B=function(F){if(typeof F!=="undefined"){return Math.max.apply(Math,F)}};D.widget("ui.ncbimenu",{styles:{hilited:"ui-ncbimenu-item-active",item:"ui-ncbimenu-item",itemFirst:"ui-ncbimenu-item-first",itemFirstHilited:"ui-ncbimenu-item-first-active",itemHasSubmenu:"ui-ncbimenu-item-has-submenu",itemLeaf:"ui-ncbimenu-item-leaf",itemNoHilite:"ui-ncbimenu-item-no-hlt",itemSkip:"ui-ncbimenu-item-skip",randClass:D.ui.jig._generateId("ncbimenu"),submenu:"ui-ncbimenu-submenu",submenuOpen:"ui-ncbimenu-submenu-open"},_init:function(){D.ui.ncbimenu._rootNodes.push(this.element);this._setData("disabled",false);this._menuIsActive=false;this._setAttrs();this._setEvents();this._register()},_areInstances:function(){return D.ui.ncbimenu._areInstances},_focus:function(F){var F=D(F);var G=C&&!F.attr("href")?true:false;if(G){F.attr("href","#")}F[0].focus();if(G){F.removeAttr("href")}},_register:function(){D.ui.ncbimenu._areInstances=true},_setAttrs:function(){var G=this.styles;var F=this;this.firstItems=this.element.addClass("ui-widget ui-ncbimenu "+G.randClass).children("li");this.firstItems.each(function(I){var J=D(this);var K=F.isSkip(J);if(!K){if(I!==0){J.children("a")[0].tabIndex=-1}else{J.children("a")[0].tabIndex=0;if(C&&J.children("ul").length>0){J.children("a").attr("href","#")}}}if(J.children("ul").length===1){J.children("a").addClass("ui-ncbimenu-first-link-has-submenu").attr({"aria-haspopup":"true"}).next("ul").attr("aria-hidden","true")}else{J.addClass(G.itemLeaf)}J.addClass(G.itemFirst+" ui-helper-reset ui-ncbimenu "+G.randClass).attr("role","presentation").children("a").attr("role","menuitem").addClass(G.randClass+" ui-ncbimenu-link-first");if(!K){J.children("a").addClass("ui-ncbimenu")}if(D.browser.safari){D(window).load(function(){J.width(J.outerWidth())})}});var H=this.firstItems.length>1?"menubar":"menu";this.element.attr("role",H)},_setEvents:function(){var G=this;var F=this.element[0];this.element.click(function(I){G._delegate(I,G)}).mouseover(function(I){G._delegate(I,G)}).mouseout(function(I){G._delegate(I,G)}).keyup(function(I){G._delegate(I,G)});if(document.addEventListener){F.addEventListener("focus",function(I){G._delegate(I,G)},true)}else{F.onfocusin=function(){G._delegate(null,G)}}if(!this._areInstances()){D(document).click(function(I){G._closeAllMenus(I,G)});var H=function(J){var J=J||window.event;var I=J.target||J.srcElement;if(I.tagName&&I!==D(F).parent()[0]&&!D(I).hasClass("ui-ncbimenu")){G._closeAllMenus(J,G)}};if(document.addEventListener){document.addEventListener("focus",function(I){H(I)},true)}else{document.onfocusin=H}}},_delegate:function(I,H){var K;var M;if(I){K=I.type;M=I.target}else{K=window.event.type;M=window.event.srcElement}while(M.tagName&&M.tagName.toLowerCase()!=="a"){M=D(M).parent()[0]}tJ=D(M);var J=tJ.parent("li");var L=H.styles;var G=J.hasClass(L.itemFirst);if(K==="click"){H._menuIsActive=true;if(G){H._activateItem(M,K)}if(H.isSkip(J)){}else{if(!J.hasClass(L.itemLeaf)){I.preventDefault()}}}if(K==="mouseover"&&M.tagName&&M.tagName.toLowerCase()==="a"){if(G){if(this._menuIsActive){this._activateItem(M,"mouseover",false)}else{this._activateItem(M)}}if(J.hasClass(L.item)){H._activateItem(M,K)}}if(K==="keyup"){var F=I.keyCode;var N=D.ui.keyCode;if(F===N.DOWN){H._activateItem(M,"down")}if(F===N.UP){H._activateItem(M,"up")}if(F===N.RIGHT){H._activateItem(M,"right")}if(F===N.LEFT){H._activateItem(M,"left")}if(F===N.ESCAPE){H._closeAllMenus(I,H,true)}}if(K==="mouseout"){if(J.hasClass(L.itemFirst)&&!D(I.relatedTarget).hasClass("ui-ncbimenu")){H._unHiliteItem(M)}}if(K==="focus"||K==="focusin"){H._unHiliteSiblings(M)}},_getSubMenu:function(F){return F.siblings("ul")},isSkip:function(F){skip=D(F).hasClass(this.styles.itemSkip)?true:false;return skip},_unHiliteItem:function(F){var F=D(F);F.removeClass(this.styles.hilited+" ui-ncbimenu-first-link-has-submenu-active "+this.styles.itemFirstHilited)},_hiliteItem:function(F){var G=this.styles;F=D(F);parentLi=F.parent("li");if(!this.isSkip(parentLi)){if(!parentLi.hasClass(G.itemNoHilite)){if(F.parent("li").hasClass(G.itemFirst)){F.addClass(G.itemFirstHilited);if(F.hasClass("ui-ncbimenu-first-link-has-submenu")){F.addClass("ui-ncbimenu-first-link-has-submenu-active")}}else{F.addClass(this.styles.hilited)}}F[0].tabIndex=0;this._focus(F);if(D.ui.ncbimenu._activeLink){D.ui.ncbimenu._activeLink[0].tabIndex=-1}D.ui.ncbimenu._activeLink=F}},_unHiliteSiblings:function(F){var G=this;D(F).parent("li").siblings("li").children("a").each(function(){G._unHiliteItem(this)})},_openSubmenu:function(H){var R=this.styles;var M=D(H.el)||null;var Q=H.callback||null;var K=this;if(M.length===0){return }if(!M){throw new Error("ncbigrid: _openSubmenu() method must be passed a DOM or jQuery collection representing the menu to be opened")}var L=M.children("li").andSelf().children("a").andSelf().addClass(R.randclass);M.data("jig-ncbimenu-subnodes",L);var S=M.data("jig-ncbimenu-width");if(typeof S==="undefined"){M.data("widths",[]);var O=false;var G=[];L.each(function(){var U=D(this);var T=U[0].tagName.toLowerCase();if(T==="li"){U.addClass(R.item+" ui-helper-reset").attr("role","presentation");if(U.children("ul").length>0){U.addClass(R.itemHasSubmenu);if(!O){O=true}}else{U.addClass(R.itemLeaf)}}if(T==="ul"){U.addClass(R.submenu).attr("role","menu").css("z-index",K._getData("submenuZindex"))}if(T==="a"){U.attr({role:"menuitem"});if(!K.isSkip(U.parent("li"))){U[0].tabIndex=-1}if(U.next("ul").length>0){U.attr({"aria-haspopup":"true"}).append('<span class="ui-ncbimenu ui-icon ui-icon-triangle-1-e"></span>')}M.css({position:"absolute",left:"-2000px"});M.css("display","block");U.css("display","inline");G.push(U.outerWidth());U.css("display","block");M.css("left","auto")}}).addClass(R.randClass+" ui-ncbimenu");var P=B(G);var J=O?P+=12:P;M.data("jig-ncbimenu-width",J);S=M.data("jig-ncbimenu-width");if(M.parent("li").hasClass(R.itemHasSubmenu)){M.css("margin-left",M.parent("li").parent("ul").data("jig-ncbimenu-width"))}}var F=M.data("jig-ncbimenu-width");L.each(function(){var T=D(this);if(T[0].tagName.toLowerCase()==="a"){T.css("width",F-(parseInt(T.css("padding-right"))+parseInt(T.css("padding-left"))+1))}else{T.css("width",F)}});M.css({position:"absolute",display:"block"}).attr("aria-hidden","false").addClass(this.styles.submenuOpen);if(typeof Q==="function"){Q()}if(A){if(!M.data("iframe")){var N=D.ui.jig._generateId(this.widgetName,"iframe-fix");var I=D(M).createIE6LayerFix(true).attr("id",N);M.data("iframe",N)}else{D("#"+M.data("iframe")).show()}}},_closeSubmenu:function(J){var G=D(J.el)||null;var F=J.delay||null;var K=J.callback||null;var I=J.submenuFadeSpeed||0;if(!G){throw new Error("ncbigrid: _openSubmenu() method must be passed a DOM or jQuery collection representing the menu to be closed")}var H=this;if(typeof G.data("jig-ncbimenu-subnodes")!=="undefined"){G.data("jig-ncbimenu-subnodes").each(function(){D(this).css("width","auto")})}G.children("li").each(function(){H._unHiliteItem(D(this).find("a"))});if(F){window.setTimeout(function(){G.fadeOut(I,function(){D(this).css("position","static").removeClass(H.styles.submenuOpen);if(typeof K==="function"){K()}})},F)}else{G.css({position:"static",display:"none"}).attr("aria-hidden","true").removeClass(this.styles.submenuOpen);if(typeof K==="function"){K()}}if(A){D("#"+G.data("iframe")).hide()}},_closeSiblingSubmenus:function(F,G){var H=this;F.parent("li").siblings("li").find("ul.ui-ncbimenu-submenu-open").each(function(){if(G){H._closeSubmenu({el:D(this),delay:H._getData("submenuDelay"),submenuFadeSpeed:H._getData("submenuFadeSpeed")})}else{H._closeSubmenu({el:D(this)})}})},_closeGrandChildSubmenu:function(F,H){var G=F.parent("li").children("ul").children("li").children("ul");if(H){this._closeSubmenu({el:G,delay:this._getData("submenuDelay"),submenuFadeSpeed:this._getData("submenuFadeSpeed")})}else{this._closeSubmenu({el:G})}},_closeChildSubmenu:function(F,H){var I=this;var G=F.siblings("ul");if(H){this._closeSubmenu({el:G,delay:this._getData("submenuDelay"),submenuFadeSpeed:this._getData("submenuFadeSpeed")})}else{this._closeSubmenu({el:G})}},_closeAllMenus:function(L,K,I){var J=this.styles;if(!D(L.target).hasClass("ui-ncbimenu")||I){var G=D.ui.ncbimenu._rootNodes;for(var H=0;H<G.length;H++){var F=D(G[H]);F.children("li").children("a").each(function(M){if(!K.isSkip(D(this).parent("li"))){M==0?this.tabIndex=0:this.tabIndex=-1;K._unHiliteItem(this)}}).end().find("ul").each(function(){K._closeSubmenu({el:D(this)})})}this._menuIsActive=false}},_getNextItem:function(G){var H=G;var F=G.parent("li").next("li");if(F.length===0){F=H.parent("li").siblings("li:first");if(F.length===0){return H}}while(this.isSkip(F)){F=F.next("li");if(F.length===0){F=H.parent("li").siblings("li:first");if(F.length===0){return H}}}return F.children("a")},_getPreviousItem:function(G){var H=G;var F=G.parent("li").prev("li");if(F.length===0){F=H.parent("li").siblings("li:last");if(F.length===0){return }}while(this.isSkip(F)){F=F.prev("li");if(F.length===0){F=H.parent("li").siblings("li:last");if(F.length===0){return }}}return F.children("a")},_activateItem:function(K,H,N){var O=this.styles;var L=O.itemFirst;var J=this;var K=D(K);var F=K.parent("li");var G=this._getData("submenuFadeSpeed");var I=this._getData("submenuDelay");var M=K.next("ul");var H=H||null;switch(H){case"click":if(!M.hasClass(O.submenuOpen)){this._openSubmenu({el:M})}else{this._closeSubmenu({el:M})}break;case"mouseover":this._closeSiblingSubmenus(K,true);this._closeGrandChildSubmenu(K,true);this._unHiliteSiblings(K);this._hiliteItem(K);if(N!==false){if(E){window.clearTimeout(E)}E=window.setTimeout(function(){J._openSubmenu({el:K.siblings("ul"),delay:I,submenuFadeSpeed:G})},J._getData("_openSubmenuDelay"))}else{this._openSubmenu({el:K.siblings("ul")})}break;case"up":this._closeChildSubmenu(K);K=this._getPreviousItem(K);this._unHiliteSiblings(K);this._hiliteItem(K);break;case"down":if(F.hasClass(L)){this._openSubmenu({el:K.siblings("ul")});K=K.siblings("ul").find("li:first > a");if(K.length>0){this._hiliteItem(K)}}else{this._closeChildSubmenu(K);K=this._getNextItem(K);this._unHiliteSiblings(K);this._hiliteItem(K)}break;case"right":if(F.hasClass(O.itemHasSubmenu)){this._openSubmenu({el:M,callback:function(){K=M.children("li:first").children("a");J._hiliteItem(K)}})}else{if(F.hasClass(L)){K=this._getNextItem(K);this._activateItem(K,"mouseover",false)}else{if(F.hasClass(O.itemLeaf)&&F.parent("ul").parent("li").hasClass(L)){K=this._getNextItem(F.parent("ul").parent("li").children("a"));this._activateItem(K,"mouseover")}else{K.parents().each(function(){var P=D(this);if(P.hasClass(L)){K=J._getNextItem(P.children("a"));J._activateItem(K,"mouseover");return }})}}}break;case"left":if(!F.hasClass(L)){this._closeSubmenu({el:K.parent("li").parent("ul")});K=K.parent("li").parent("ul").prev("a");this._hiliteItem(K)}if(F.hasClass(L)||F.parent("ul").parent("li").hasClass(L)){this._unHiliteItem(K);K=this._getPreviousItem(K);this._activateItem(K,"mouseover",false)}break;default:this._hiliteItem(K)}}});D.ui.ncbimenu.defaults={_openSubmenuDelay:300,submenuZindex:"1002"};D.ui.ncbimenu._areInstances=null;D.ui.ncbimenu.getter="areInstances";D.ui.ncbimenu._activeLink=null;D.ui.ncbimenu._rootNodes=[]})(jQuery);jQuery.widget("ui.ncbipopper",{_init:function(){this._addHandlers()},_addHandlers:function(){var E=this;var D=this._getData("openMethod");var F=this._getData("closeMethod");var C=jQuery(this.element);var G=this._getData("multipleHandlesSelector");if(G&&G.length>0){C=C.add(G)}if(D!=="click"&&F!=="click"){C.bind(D,function(H){E.show(H)}).bind(F,function(H){E._close(H)})}else{if(this._getData("isTargetElementCloseClick")){if(D===F){C.bind(D,function(H){E._clickShowClose(H);return false})}else{if(D==="click"){var B=D;var A=F}else{var B=F;var A=D}C.bind(B,function(H){E._clickShowClose(H)}).bind(A,function(H){E._close(H)})}}else{C.bind(D,function(H){E.show(H)})}if(this._getData("isEcapeKeyClose")){jQuery(document).keypress(function(H){if(E._isVisible&&H.keyCode===27){E._close(H)}})}if(this._getData("isButtonCloseClick")){}if(this._getData("isDocumentCloseClick")){jQuery(document).click(function(H){if(E._isVisible){E._globalClickClose(H)}})}jQuery(window).resize(function(H){if(E._isVisible){E._repositionWindow(H)}})}},_timer:null,open:function(){this.show(arguments)},show:function(A){A=A&&typeof A==="boolean";if(this._isVisible&&!A){return }var B=this;var D=this._getData("openMethod");function C(){var E=jQuery(B.getSourceElement(true));var J=290;var H=true;var R=B._getData("openAnimation");if(A){R="show";J=0;H=false}else{B.element.trigger("ncbipopperopen")}var L=B._getData("sourcePosition").split(/\s+/);var M=B._getData("targetPosition").split(/\s+/);var Q=custY=0;if(B._getData("hasArrow")){var G=B._getData("arrowDirection").toLowerCase();var P=B._arrowSettings[G];if(P){Q=P.offsets.x;if(L[0]!=="middle"){custY=P.offsets.y}var N=P.offsets[L[0]+"_"+M[0]];if(N){Q+=(N.x||0);custY+=(N.y||0)}if(L[0]==="bottom"&&L[1]==="right"){Q+=22}}}else{E.addClass("ncbipopper-wrapper")}if(B._getData("addCloseButton")){B._addCloseButton()}var F=E.outerWidth();var I=E.setFramePosition({vertical:L[0],hortizontal:L[1],adjustFit:"slide",customOffsetX:Q,customOffsetY:custY},{element:B.element,vertical:M[0],hortizontal:M[1]});function O(){var T=E.parents();var S=T.length;var U=I.elementFrame();T.each(function(V){jQuery(this).css("zIndex",U.zIndex-S+V)})}function K(){if(B._iframeFix){I.width(F);var V=I.elementFrame();var U=-1;O();if(U===-1){U=V.zIndex-1}var T=I.css("margin-top");var S=I.css("margin-left");T=(T==="auto")?0:parseInt(T,10);S=(S==="auto")?0:parseInt(S,10);B._iframeFix.css("top",(parseInt(I.css("top"),10)+T)+"px").css("left",(parseInt(I.css("left"),10)+S)+"px").width(V.width).height(V.height).css("zIndex",I.css("zIndex")-1).css("position","absolute").css("display","block").parent().parents().each(function(W){jQuery(this).css("zIndex",V.zIndex-1+W)})}}if(A){I.css("display","block");K()}else{I.attr("isOpening",H)[R](J,function(){jQuery(this).attr("isOpening",false);K()});B._openGroupItem(E)}B._timer=null;B._isVisible=true}if(D==="click"||A){C()}else{if(!this._timer){this._timer=window.setTimeout(C,300)}}},_removeTooltipElement:function(){this._removeCloseButton();if(this._holder){var A=this._holder;if(this._wrapper){A=this._wrapper}A.css("display","none").unbind().remove();this._iframeFix.css("display","none").unbind().remove();if(this._wrapper){this._wrapper=null;if(this._iframeFix){this._iframeFix=null}}this._holder=null}},close:function(){this._close({})},_close:function(D){if(this._timer!==null){window.clearTimeout(this._timer);this._timer=null;if(!this._isVisible){return }}if(!D.relatedTarget){if(D.type=="mouseout"){D.relatedTarget=D.toElement}else{D.relatedTarget=D.fromElement}}var A=D.relatedTarget||D.target||D.srcTarget||null;if(A&&this._isSourceElementOrTarget(A)&&!this._getData("isTargetElementCloseClick")){return }else{this.element.trigger("ncbipopperclose");var B=this._getData("closeAnimation");this._closeGroupItem(jQuery(this.getSourceElement()));if(jQuery(this.getSourceElement()).attr("isOpening").toString()==="false"){var C=this;jQuery(this.getSourceElement())[B](280,function(){C._isVisible=false;C._removeTooltipElement();if(C._iframeFix){C._iframeFix.css("display","none")}})}else{this._isVisible=false;this._removeTooltipElement()}}},_clickShowClose:function(A){if(this._isVisible){this._close(A)}else{this.show(A)}},_globalClickClose:function(A){if(this._isVisible&&!this._isSourceElementOrTarget(A.target||A.srcElement)){this._close(A)}},_isSourceElementOrTarget:function(F){F=jQuery(F);var D=this.element[0];var A=jQuery(this.getSourceElement())[0];if(F[0]==D||F[0]==A){return true}var B=F.parents().get();for(var C=0;C<B.length;C++){var E=jQuery(B[C])[0];if(E==D||E==A){return true}}return false},_wrapper:null,_hasSourceElementEventAdded:false,getSourceElement:function(A){var C=this._getSourceSelector();if(this._getData("hasArrow")){if(!this._wrapper){this._wrapElement()}if(A){this._checkArrowPosition()}C=this._wrapper}else{this._content=C}var D=false;C.parents().each(function(){if(jQuery(this).css("position")==="relative"){D=true;return false}});if(!this._iframeFix){this._iframeFix=jQuery(C).createIE6LayerFix(false);if(this._iframeFix){var B=D?C.parent():jQuery("body");this._iframeFix.css("display","none").appendTo(B)}}return C},_getSourceSelector:function(){var C=this._getData("sourceSelector");var A=this._getData("sourceText");var B=null;if(C&&C.length>0){B=jQuery(this._getData("sourceSelector"))}else{if(this._holder!==null){return this._holder}else{if(A){this._createTextHolder();return this._holder}}}return B},_holder:null,_createTextHolder:function(){var A=this._getData("sourceText");if(typeof A==="function"){var C=this;var B=function(D){C._setHTML(D)};A=A.call(this.element[0],B)}if((A&&A.length===0)||A===undefined){A="Loading..."}this._holder=jQuery("<div class='ncbipopper-basic'>"+A+"</div>").css("display","none").appendTo(jQuery(document.body))},_setHTML:function(A){if(this._holder){this._holder.html(A)}},_wrapElement:function(){var B=this._getSourceSelector();this._content=B;if(B.parent().hasClass("ncbipopper-wrapper")){this._wrapper=B.parent();this._arrow=this._getArrow()}else{this._wrapper=B.wrap("<div class='ncbipopper-wrapper'></div>").addClass("ncbipopper-content").parent();if(B.css("display")==="none"){B.css("display","block")}if(this._getData("hasArrow")){this._createArrow()}}var A=this;this._hasSourceElementEventAdded=true},_iframeFix:null,_arrowSettings:{left:{className:"ncbipopper-arrow-left",method:"prependTo",contentClassName:"ncbipopper-content-left",offsets:{x:0,y:-10,bottom_bottom:{x:0,y:40}}},right:{className:"ncbipopper-arrow-right",method:"prependTo",contentClassName:"ncbipopper-content-right",offsets:{x:0,y:-10,bottom_bottom:{x:0,y:10}}},top:{className:"ncbipopper-arrow-top",method:"prependTo",contentClassName:"ncbipopper-content-top",offsets:{x:-10,y:0}},bottom:{className:"ncbipopper-arrow-bottom",method:"appendTo",contentClassName:"ncbipopper-content-bottom",offsets:{x:-10,y:0}},"default":{className:"ncbipopper-arrow-left",method:"prependTo",contentClassName:"ncbipopper-content-left",offsets:{x:0,y:-10,bottom_bottom:{x:0,y:10}}}},_createArrow:function(){var A=this._arrowSettings[this._getData("arrowDirection").toLowerCase()];if(!A){A=this._arrowSettings["default"]}this._arrow=jQuery("<div class='ncbipopper-arrow'></div>")[A.method](this._wrapper);this._arrow.addClass(A.className)},_checkArrowPosition:function(){var B=this._wrapper.children();var F=jQuery(B[0]);var G=jQuery(B[B.length-1]);var A=F.hasClass(this._arrowSettings.left.className)||F.hasClass(this._arrowSettings.right.className)||F.hasClass(this._arrowSettings.top.className);var E=G.hasClass(this._arrowSettings.bottom.className);var C=this._arrowSettings[this._getData("arrowDirection").toLowerCase()];this._content.removeClass("ncbipopper-content-left").removeClass("ncbipopper-content-right").removeClass("ncbipopper-content-top").removeClass("ncbipopper-content-bottom").addClass(C.contentClassName);var D=(A)?F:(E)?G:null;if(D){D.css("display","none").remove()}this._createArrow();this._adjustArrowPosition()},_getArrow:function(){var A=jQuery(".ncbipopper-arrow-left,.ncbipopper-arrow-right,.ncbipopper-arrow-top,.ncbipopper-arrow-bottom",this.wrapper);if(A.length===0){this._createArrow();A=this._arrow}else{this._arrow=A;this._checkArrowPosition()}return A},_adjustArrowPosition:function(){var B=false;var I=this._wrapper.css("display");var H=this._wrapper.css("visibility");if(!this._wrapper.is(":visible")){B=true;this._wrapper.css("visibility","hidden").css("display","block")}var A=jQuery(this._content).elementFrame();var D=this._getData("sourcePosition").split(/\s+/);var C=this._getData("arrowDirection").toLowerCase();var G=adjY=0;var F=false;if(D[1]==="left"||D[1]==="right"){if(D[0]==="top"){adjY=0;F=true}else{if(D[0]==="middle"){adjY=Math.floor((A.height)/2-21/2);F=true}else{if(D[0]==="bottom"&&C!=="bottom"){adjY=Math.floor(A.height-21);F=true}}}}if(!F){if(D[1]==="left"){G=0;F=true}else{if(D[1]==="center"){G=Math.floor((A.width)/2);F=true}else{if(D[1]==="right"){G=Math.floor(A.width-21);F=true}}}}if(B){this._wrapper.css("visibility",H).css("display",I)}this._arrow.css("top",adjY+"px").css("left",G+"px");this._wrapper.unbind("click").unbind("mouseout");if(this._getData("closeMethod")!=="click"||this._getData("isSourceElementCloseClick")){var E=this;this._wrapper.bind(this._getData("closeMethod"),function(J){E._close(J)})}},_openGroupItem:function(A){var C=this._getData("groupName");if(C===null){return }var B=jQuery.ui.ncbipopper.openGroups[C];if(B){B.obj.close();B=null}jQuery.ui.ncbipopper.openGroups[C]={elem:A,obj:this}},_closeGroupItem:function(A){var C=this._getData("groupName");if(C===null||A===null){return }var B=jQuery.ui.ncbipopper.openGroups[C];if(jQuery(B.elem).eq(A)){jQuery.ui.ncbipopper.openGroups[C]=null}},_addCloseButton:function(){var A=jQuery(".ncbipopper-close-button",this._content);if(A.length>=1){this._closeButton=A}else{this._closeButton=jQuery("<button class='ncbipopper-close-button ncbipopper-close-button-generated'>x</button>").attr("generated","true").prependTo(this._content)}var B=this;if(this._closeButton.attr("closeAdded")!=="true"){this._closeButton.click(function(){return B.close()}).attr("closeAdded","true")}},_removeCloseButton:function(){var A=jQuery(".ncbipopper-close-button",this._content);if(A.attr("generated")==="true"){A.unbind().remove()}else{var B=this;A.unbind("click",function(){return B.close()})}},_repositionWindow:function(){this.show(true)}});jQuery.ui.ncbipopper.defaults={openMethod:"mouseover",openAnimation:"slideDown",closeMethod:"mouseout",isEcapeKeyClose:true,isTargetElementCloseClick:true,isSourceElementCloseClick:true,isButtonCloseClick:true,isDocumentCloseClick:true,addCloseButton:false,closeAnimation:"slideUp",adjustFit:"",targetPosition:"",sourcePosition:"",sourceSelector:"",multipleHandlesSelector:"",sourceText:null,hasArrow:true,arrowDirection:"left",groupName:null};jQuery.ui.ncbipopper.openGroups={};jQuery.ui.ncbipopper._selector=".jig-ncbipopper";jQuery.ui.ncbipopper.getSelector=function(){return this._selector};jQuery.widget("ui.ncbislideshow",{_init:function(){this.element.addClass("ui-ncbislideshow");this._setUpDisplay();this._createPagingLinks();this.startSlideShow()},_setUpDisplay:function(){jQuery("ul:first li",this.element).css("display","none");jQuery("ul:first li:eq("+(this._getInitialSlide()-1)+")",this.element).css("display","").css("zIndex",99);jQuery("ul:first",this.element).addClass("ui-ncbislideshow-slides")},_createPagingLinks:function(){var D=this._getSlidesCount();var F='<li><a href="#" tabindex="-1">';var A="</a></li>";var B=[];B.push('<ul class="ui-ncbislideshow-skip">');B.push('<li class="ui-ncbislideshow-playPause"><a href="#" tabindex="-1"><span title="Click to pause" class="ui-icon ui-icon-pause"></span></a></li>');for(var C=0;C<D;C++){B.push(F);B.push(C+1);B.push(A)}B.push("</ul>");this.pagingHolder=jQuery(B.join("")).appendTo(this.element);var E=this;jQuery("a:gt(0)",this.pagingHolder).click(function(H){var G=parseInt(jQuery(this).text());E.showSlideClick(G);H.preventDefault()});jQuery("a:eq(0)",this.pagingHolder).click(function(G){E.playPause();G.preventDefault()});jQuery("a:eq("+this._getInitialSlide()+")",this.pagingHolder).addClass("ui-ncbislideshow-skip-active")},_getInitialSlide:function(){var A=this._getData("currentSlide");if(A<1||A>this._getSlidesCount()){A=1}return A},_getSlidesCount:function(){return jQuery("ul:first li",this.element).length},_isRunning:false,startSlideShow:function(){this._isRunning=true;if(this._timer){return }var A=this;this._timer=window.setInterval(function(){A.showNext()},this._getData("slideInterval"));this._updateIcons()},showNext:function(){this.showSlide(this._getData("currentSlide")+1)},showSlideClick:function(A){this._resetSlideShow();if(this._getData("currentSlide")!==A){this.showSlide(A)}},showSlide:function(D){if(D<1||D>this._getSlidesCount()){D=1}var B=D;var E=this._getData("currentSlide");if(B===E){return }this._setData("currentSlide",D);var C=this._getData("fadeSpeed");if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7){C=0}jQuery("ul:first li:eq("+(B-1)+")",this.element).stop().show().css("zIndex",100).fadeTo(C,1);jQuery("ul:first li:eq("+(E-1)+")",this.element).stop().css("zIndex",101).fadeOut(C);var A=jQuery("ul:last li:eq("+B+") a",this.element).addClass("ui-ncbislideshow-skip-active");jQuery("ul:last li:eq("+E+") a",this.element).removeClass("ui-ncbislideshow-skip-active");this.element.trigger("ncbislideshowshowslide",D)},_resetSlideShow:function(){if(this._isPaused){return }this.stopSlideShow();this.startSlideShow();this.element.trigger("ncbislideshowshowstarted")},stopSlideShow:function(){if(this._timer){window.clearInterval(this._timer)}this._isRunning=false;this._timer=null;this._updateIcons();this.element.trigger("ncbislideshowshowpaused")},_isPaused:false,playPause:function(){this._isRunning=!this._isRunning;if(this._isRunning){this.startSlideShow();this._isPaused=false}else{this.stopSlideShow();this._isPaused=true}},_updateIcons:function(){if(this._isRunning){var B="ui-icon-pause";var A="ui-icon-play";var C="click to pause"}else{B="ui-icon-play";A="ui-icon-pause";C="click to play"}jQuery("a:eq(0) span",this.pagingHolder).addClass(B).removeClass(A).attr("title",C)}});jQuery.ui.ncbislideshow.defaults={fadeSpeed:500,slideInterval:15000,currentSlide:1};jQuery.ui.ncbislideshow.getter="";jQuery.ui.ncbislideshow.version="1.0";jQuery.widget("ui.ncbitabpopper",{_init:function(){this._addhandlers();this._createPoppers()},_addhandlers:function(){var A=this;jQuery("a[sourceContent], button[sourceContent]",this.element).click(function(D){var C=this.getAttribute("tabvalidate");var E=D;var B=A._open(D,this,C);if(B!==false&&this.onfooclick){this.onfooclick(E)}});jQuery(document).click(function(B){A._globalClick(B)});jQuery(window).resize(function(B){A._positionBox(B)})},_popBox:null,_createPoppers:function(){var A="<div class='ui-ncbi-tabpopper-cover'></div>";this._popBoxCover=jQuery(A).appendTo(document.body)},_activeMenu:null,_open:function(A,D,C){if(A!=null){A.preventDefault();A.stopPropagation()}if(this._activeMenu!==null){var I=(this._activeMenu[0]==D);this.close();if(I){return }}if(C){var B=this;if(C.indexOf(".")===-1){var F=window[C]}else{F=window;var H=C.split(".");for(var E=0;E<H.length;E++){F=F[H[E]]}}var G=F(function(){B._openPane(D)});if(G!==true){return }}this._openPane(D)},_openPane:function(A){this._activeMenu=jQuery(A);if(this._activeMenu.length>0){this._popBox=jQuery("#"+this._activeMenu.attr("sourceContent"));this._popBox.addClass("ui-ncbi-tabpopper");this._positionBox()}},open:function(B){if(typeof B==="string"){B=jQuery(B)}var A=B.attr("tabvalidate");this._open(null,B,A)},_globalClick:function(B){if(this._activeMenu!==null){var A=B.target;while(A!=null){if(A==this._popBox[0]||A==this._popBoxCover[0]){break}A=jQuery(A).parent();if(A.length>0){A=A[0]}else{break}}if(A.length===0){this.close()}}},close:function(){if(this._activeMenu!==null){var B=this;var A=this._activeMenu;var C=function(){A.removeClass("active");B.element.trigger("tabpopperclose",[A])};this._popBox.css("z-index",1001).slideUp(170,C);this._popBoxCover.css("z-index",1002).css("display","none");this._activeMenu=null}},_positionBox:function(){var O=this._activeMenu;if(!O){return }var N=O.position();var G=O.height();var L=Math.floor(parseFloat(O.css("padding-bottom")))||0;var E=Math.floor(parseFloat(O.css("padding-left")))||0;var Q=Math.floor(parseFloat(O.css("padding-right")))||0;var C=Math.floor(parseFloat(O.css("border-left-width")))||0;var F=Math.floor(parseFloat(O.css("margin-right")))||0;var I=Math.floor(parseFloat(O.css("margin-left")))||0;var A=parseFloat(O.css("margin-bottom"))||0;if(isNaN(A)){A=0}else{A=Math.floor(A)}var M=N.top+G+L+this._getData("offsetTop")-A;var D=N.left+this._getData("offsetLeft");if(D<0){D=0}else{if(this._popBox.width()+D>jQuery(window).width()){var K=jQuery(window).width()-this._popBox.width()-12;D=(K>0)?K:0}}var J=O.width()+E+Q-2*this._getData("innerOffset");var B=N.left+C+I+this._getData("innerOffset");O.addClass("active");var H=this;function P(){H.element.trigger("tabpopperopen",[O])}this._popBox.css("top",M+"px").css("left",D+"px").css("z-index",1003).slideDown(170,P);this._popBoxCover.width(J).css("top",M+"px").css("left",B+"px").css("z-index",1004).slideDown(100)}});jQuery.ui.ncbitabpopper.defaults={offsetLeft:-20,offsetTop:0,innerOffset:0};jQuery.ui.ncbitabpopper.version="1.0";(function(A){A.widget("ui.ncbitoggler",{styles:{ariaWrapper:"ui-ncbitoggler-live",groupMasterReplaceNode:"span.ui-ncbitoggler-group-replace-txt",groupMasterStateClose:"ui-ncbitoggler-group-master-to-close",groupMasterStateOpen:"ui-ncbitoggler-group-master-to-open",master:"ui-ncbitoggler",masterOpen:"ui-ncbitoggler-open",slave:"ui-ncbitoggler-slave",slaveOpen:"ui-ncbitoggler-slave-open",icon:"ui-icon-triangle-1-e",iconOpen:"ui-icon-triangle-1-s"},_init:function(){this._setData("disabled",false);this.addedHref=null;this.cookieName=null;this.remember=null;this.rememberCookie=null;this.startOpen=null;this.iconSpan=null;this.initSlavesClass=null;this.appendTextNode=null;var H=this.element;var C=H[0];var G=this.styles;var F=this;var E=this._getData("isIcon");H.addClass("ui-widget ui-ncbitoggler");if(!E){H.addClass("ui-ncbitoggler-no-icon")}var B=H.attr("href");(!B)?this.addedHref=true:this.addedHref=false;this._validate(B);if(H.children("span.ui-ncbitoggler-master-text").length===0){H.contents().filter(function(){return this.nodeType===3}).each(function(){var I=A(this);if(jQuery.trim(this.nodeValue).length>0){I.wrap('<span class="ui-ncbitoggler-master-text">')}})}if(this._getData("openedAppendText")!==""||this._getData("closedAppendText")!==""){this.appendTextNode=H.children("span.ui-ncbitoggler-appended-text");if(this.appendTextNode.length===0){throw new Error('ncbitoggler: when setting openAppendText or closedAppendText options, must have an existing <span class="ui-ncbitoggler-appended-text"> node as first child of master')}}this.remember=this._getData("remember")||false;if(this.remember){var D=this.element.attr("id");if(!D){if(window.console&&console.error){console.error("ncbitoggler: master node "+C+" must have a unique id attribute when remembering state")}return }this.cookieName=this._getData("cookieNamePrefix")+D;this.rememberCookie=A.cookie(this.cookieName)}if(!this.rememberCookie){this.startOpen=(H.hasClass("jig-ncbitoggler-open")||H.hasClass(G.masterOpen))?true:false}else{this.startOpen=(this.rememberCookie==="open")?true:false}if(this.startOpen){H.removeClass(this.styles.master);H.addClass(G.masterOpen)}else{H.removeClass(this.styles.masterOpen);H.addClass(G.master)}if(E){this._initMasterIcon()}this.slaves=this._getSlaves();this.slaves.addClass("ui-widget ui-ncbitoggler").removeClass("ui-ncbitoggler-disabled ui-state-disabled");if(this.startOpen){this.slaves.removeClass(G.slave);this.slaves.addClass(G.slaveOpen);this.initSlavesClass=G.slaveOpen}else{this.slaves.removeClass(G.slaveOpen);this.slaves.addClass(G.slave);this.initSlavesClass=G.slave}this._initAria();this._doGrouping();H.click(function(I){F.toggle(I,F)})},_getGroupMaster:function(){var E=this.styles;var F=this.element[0].className.split(/\s+/);for(var C=0;C<F.length;C++){var D=F[C];var B=D.match(/ui-ncbitoggler-group-(.+)$/);if(B){var H=B[1];var G=A("a.ui-ncbitoggler-group-open-"+H+", a.ui-ncbitoggler-group-close-"+H,this._getData("contextNode"));if(G.length===1){if(G.hasClass("ui-ncbitoggler-group-open-"+H)){G.addClass(E.groupMasterStateOpen)}if(G.hasClass("ui-ncbitoggler-group-close-"+H)){G.addClass(E.groupMasterStateClose)}return G}}}},_doGrouping:function(){var G=this._getGroupMaster();if(G){var F=this;var E=this.styles;var D=G.data("togglers");var B=this.element.id||A.ui.jig._generateId(this.widgetName);if(!this.element[0].id){this.element[0].id=A.ui.jig._generateId(this.widgetName)}if(typeof D==="undefined"){G.data("togglers",[]);G.data("togglers").push(this.element)}else{D.push(this.element)}var C=G.find(E.groupMasterReplaceNode);G.click(function(J){J.preventDefault();var I=G.data("togglers");var H=I[I.length-1][0];if(G.hasClass(E.groupMasterStateOpen)){F.open();if(C.length>0){C.text(F._getData("groupMasterCloseReplaceText"))}if(F.element[0]===H){G.removeClass(E.groupMasterStateOpen).addClass(E.groupMasterStateClose)}}else{F.close();if(C.length>0){C.text(F._getData("groupMasterOpenReplaceText"))}if(F.element[0]===H){G.removeClass(E.groupMasterStateClose).addClass(E.groupMasterStateOpen)}}})}},_initAria:function(){var C=this;var B=this.startOpen;this.element.attr({role:"button","aria-expanded":B});this.slaves.attr({"aria-hidden":B?false:true});if(this._getData("liveRegions")){this.slaves.each(function(){A(this).wrap('<div class="ui-helper-reset" aria-live="assertive">')})}},_validate:function(B){var C=this.element;if(C[0].tagName.toLowerCase()!=="a"){throw new Error("ncbitoggler: master node must be an <a> element for keyboard accessiblity")}if(!B){C.attr("href","#")}},_initMasterIcon:function(){var B=this.element;var C=this.styles;this.iconSpan=B.find("span.ui-icon");if(this.iconSpan.length===0){this.iconSpan=A('<span class="ui-icon"></span>');(this.startOpen)?this.iconSpan.addClass(C.iconOpen):this.iconSpan.addClass(C.icon);B.append(this.iconSpan)}else{if(this.startOpen){this.iconSpan.removeClass(C.icon);this.iconSpan.addClass(C.iconOpen)}}},_getSlaves:function(){var E=this.element;var F=E.attr("toggles");if(F){this.isSibling=false;var D=F.split(/ +/);var B="";for(var C=0;C<D.length;C++){if(C!==D.length-1){B+="#"+D[C]+","}else{B+="#"+D[C]}}return A(B)}else{if(E.parent(":header").length>0){this.isSibling=true;return E.parent(":header").next()}else{this.isSibling=true;return E.next()}}},_openSlaves:function(){var C=this.slaves;var B=this.iconSpan;var D=this.styles;C.removeClass(D.slave).addClass(D.slaveOpen).attr("aria-hidden","false");var E=this._getData("openedAppendText");if(E!==""){this.appendTextNode.html(E)}},_closeSlaves:function(){var C=this.slaves;var B=this.iconSpan;var D=this.styles;C.removeClass(D.slaveOpen).addClass(D.slave).attr("aria-hidden","true");var E=this._getData("closedAppendText");if(E!==""){this.appendTextNode.html(E)}},_fixHasLayout:function(B){window.setTimeout(function(){B.slaves.addClass("foo").removeClass("foo")},1)},open:function(){var D=this.element;var C=this;var B=this.styles;if(D.hasClass(B.master)){D.removeClass(B.master).addClass(B.masterOpen).attr("aria-expanded","true").trigger("ncbitoggleropen");if(this._getData("isIcon")){this.iconSpan.removeClass(B.icon).addClass(B.iconOpen)}if(this.remember){A.cookie(this.cookieName,"open")}if(this._getData("animation")==="slide"){this.slaves.slideToggle(this._getData("speed"),function(){C._openSlaves();if(A.browser.msie){C._fixHasLayout(C)}})}else{this._openSlaves();if(A.browser.msie){C._fixHasLayout(C)}}}return D},close:function(){var D=this.element;var C=this;var B=this.styles;if(D.hasClass(B.masterOpen)){D.removeClass(B.masterOpen).addClass(B.master).attr("aria-expanded","false").trigger("ncbitogglerclosed");if(this._getData("isIcon")){this.iconSpan.removeClass(B.iconOpen).addClass(B.icon)}if(this.remember){A.cookie(this.cookieName,"closed")}if(this._getData("animation")==="slide"){this.slaves.slideToggle(this._getData("speed"),function(){C._closeSlaves()})}else{this._closeSlaves()}}return D},toggle:function(F,E){if(arguments.length===0){var E=this}else{F.preventDefault()}var D=this.element;var C=this.styles;var B=this.iconSpan;if(D.hasClass(this.styles.master)){E.open()}else{E.close()}},_removeHandlers:function(){this.element.unbind("click");this.element.click(function(B){B.preventDefault()})},destroy:function(){A.widget.prototype.destroy.apply(this,arguments);var B=this.element;var C=this.styles;B.removeClass(C.master+" "+C.masterOpen+" ui-state-disabled ui-ncbitoggler-disabled");this.slaves.removeClass("ui-ncbitoggler-slave ui-ncbitoggler-slave-open ui-state-disabled ui-ncbitoggler-disabled");if(this._getData("isIcon")){var D=B.find("span.ui-icon")[0];B[0].removeChild(D)}if(this.addedHref){B.removeAttr("href")}this._removeHandlers();return this},disable:function(){A.widget.prototype.disable.apply(this,arguments);this._removeHandlers();this.slaves.addClass("ui-ncbitoggler-disabled ui-state-disabled");return this},enable:function(){A.widget.prototype.enable.apply(this,arguments);this.slaves.removeClass("ui-ncbitoggler-disabled ui-state-disabled");var B=this;this.element.click(function(C){B.toggle(C,B)});return this}});A.ui.ncbitoggler.defaults={animation:"slide",closedAppendText:"",cookieNamePrefix:"jig-tog-rem-",liveRegions:true,openedAppendText:"",remember:false,speed:50,isIcon:true};A.ui.ncbitoggler.version="1.2"})(jQuery);(function(A){A.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined){this.options.collapsible=this.options.deselectable}this._tabify(true)},_setData:function(B,C){if(B=="selected"){if(this.options.collapsible&&C==this.options.selected){return }this.select(C)}else{this.options[B]=C;if(B=="deselectable"){this.options.collapsible=C}this._tabify()}},_tabId:function(B){return B.title&&B.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+A.data(B)},_sanitizeSelector:function(B){return B.replace(/:/g,"\\:")},_cookie:function(){var B=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+A.data(this.list[0]));return A.cookie.apply(null,[B].concat(A.makeArray(arguments)))},_ui:function(C,B){return{tab:C,panel:B,index:this.anchors.index(C)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var B=A(this);B.html(B.data("label.tabs")).removeData("label.tabs")})},_tabify:function(M){this.list=this.element.children("ul:first");this.lis=A("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return A("a",this)[0]});this.panels=A([]);var N=this,D=this.options;var C=/^#.+/;this.anchors.each(function(Q,O){var P=A(O).attr("href");var R=P.split("#")[0],S;if(R&&(R===location.toString().split("#")[0]||(S=A("base")[0])&&R===S.href)){P=O.hash;O.href=P}if(C.test(P)){N.panels=N.panels.add(N._sanitizeSelector(P))}else{if(P!="#"){A.data(O,"href.tabs",P);A.data(O,"load.tabs",P.replace(/#.*$/,""));var U=N._tabId(O);O.href="#"+U;var T=A("#"+U);if(!T.length){T=A(D.panelTemplate).attr("id",U).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(N.panels[Q-1]||N.list);T.data("destroy.tabs",true)}N.panels=N.panels.add(T)}else{D.disabled.push(Q)}}});if(M){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(D.selected===undefined){if(location.hash){this.anchors.each(function(P,O){if(O.hash==location.hash){D.selected=P;return false}})}if(typeof D.selected!="number"&&D.cookie){D.selected=parseInt(N._cookie(),10)}if(typeof D.selected!="number"&&this.lis.filter(".ui-tabs-selected").length){D.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}D.selected=D.selected||0}else{if(D.selected===null){D.selected=-1}}D.selected=((D.selected>=0&&this.anchors[D.selected])||D.selected<0)?D.selected:0;D.disabled=A.unique(D.disabled.concat(A.map(this.lis.filter(".ui-state-disabled"),function(P,O){return N.lis.index(P)}))).sort();if(A.inArray(D.selected,D.disabled)!=-1){D.disabled.splice(A.inArray(D.selected,D.disabled),1)}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(D.selected>=0&&this.anchors.length){this.panels.eq(D.selected).removeClass("ui-tabs-hide");this.lis.eq(D.selected).addClass("ui-tabs-selected ui-state-active");N.element.queue("tabs",function(){N._trigger("show",null,N._ui(N.anchors[D.selected],N.panels[D.selected]))});this.load(D.selected)}A(window).bind("unload",function(){N.lis.add(N.anchors).unbind(".tabs");N.lis=N.anchors=N.panels=null})}else{D.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[D.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(D.cookie){this._cookie(D.selected,D.cookie)}for(var G=0,L;(L=this.lis[G]);G++){A(L)[A.inArray(G,D.disabled)!=-1&&!A(L).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}if(D.cache===false){this.anchors.removeData("cache.tabs")}this.lis.add(this.anchors).unbind(".tabs");if(D.event!="mouseover"){var F=function(P,O){if(O.is(":not(.ui-state-disabled)")){O.addClass("ui-state-"+P)}};var I=function(P,O){O.removeClass("ui-state-"+P)};this.lis.bind("mouseover.tabs",function(){F("hover",A(this))});this.lis.bind("mouseout.tabs",function(){I("hover",A(this))});this.anchors.bind("focus.tabs",function(){F("focus",A(this).closest("li"))});this.anchors.bind("blur.tabs",function(){I("focus",A(this).closest("li"))})}var B,H;if(D.fx){if(A.isArray(D.fx)){B=D.fx[0];H=D.fx[1]}else{B=H=D.fx}}function E(O,P){O.css({display:""});if(A.browser.msie&&P.opacity){O[0].style.removeAttribute("filter")}}var J=H?function(O,P){A(O).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");P.hide().removeClass("ui-tabs-hide").animate(H,H.duration||"normal",function(){E(P,H);N._trigger("show",null,N._ui(O,P[0]))})}:function(O,P){A(O).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");P.removeClass("ui-tabs-hide");N._trigger("show",null,N._ui(O,P[0]))};var K=B?function(P,O){O.animate(B,B.duration||"normal",function(){N.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");O.addClass("ui-tabs-hide");E(O,B);N.element.dequeue("tabs")})}:function(P,O,Q){N.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");O.addClass("ui-tabs-hide");N.element.dequeue("tabs")};this.anchors.bind(D.event+".tabs",function(){var P=this,R=A(this).closest("li"),O=N.panels.filter(":not(.ui-tabs-hide)"),Q=A(N._sanitizeSelector(this.hash));if((R.hasClass("ui-tabs-selected")&&!D.collapsible)||R.hasClass("ui-state-disabled")||R.hasClass("ui-state-processing")||N._trigger("select",null,N._ui(this,Q[0]))===false){this.blur();return false}D.selected=N.anchors.index(this);N.abort();if(D.collapsible){if(R.hasClass("ui-tabs-selected")){D.selected=-1;if(D.cookie){N._cookie(D.selected,D.cookie)}N.element.queue("tabs",function(){K(P,O)}).dequeue("tabs");this.blur();return false}else{if(!O.length){if(D.cookie){N._cookie(D.selected,D.cookie)}N.element.queue("tabs",function(){J(P,Q)});N.load(N.anchors.index(this));this.blur();return false}}}if(D.cookie){N._cookie(D.selected,D.cookie)}if(Q.length){if(O.length){N.element.queue("tabs",function(){K(P,O)})}N.element.queue("tabs",function(){J(P,Q)});N.load(N.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}if(A.browser.msie){this.blur()}});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var B=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var C=A.data(this,"href.tabs");if(C){this.href=C}var D=A(this).unbind(".tabs");A.each(["href","load","cache"],function(E,F){D.removeData(F+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(A.data(this,"destroy.tabs")){A(this).remove()}else{A(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}});if(B.cookie){this._cookie(null,B.cookie)}},add:function(E,D,C){if(C===undefined){C=this.anchors.length}var B=this,G=this.options,I=A(G.tabTemplate.replace(/#\{href\}/g,E).replace(/#\{label\}/g,D)),H=!E.indexOf("#")?E.replace("#",""):this._tabId(A("a",I)[0]);I.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var F=A("#"+H);if(!F.length){F=A(G.panelTemplate).attr("id",H).data("destroy.tabs",true)}F.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(C>=this.lis.length){I.appendTo(this.list);F.appendTo(this.list[0].parentNode)}else{I.insertBefore(this.lis[C]);F.insertBefore(this.panels[C])}G.disabled=A.map(G.disabled,function(K,J){return K>=C?++K:K});this._tabify();if(this.anchors.length==1){I.addClass("ui-tabs-selected ui-state-active");F.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){B._trigger("show",null,B._ui(B.anchors[0],B.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[C],this.panels[C]))},remove:function(B){var D=this.options,E=this.lis.eq(B).remove(),C=this.panels.eq(B).remove();if(E.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(B+(B+1<this.anchors.length?1:-1))}D.disabled=A.map(A.grep(D.disabled,function(G,F){return G!=B}),function(G,F){return G>=B?--G:G});this._tabify();this._trigger("remove",null,this._ui(E.find("a")[0],C[0]))},enable:function(B){var C=this.options;if(A.inArray(B,C.disabled)==-1){return }this.lis.eq(B).removeClass("ui-state-disabled");C.disabled=A.grep(C.disabled,function(E,D){return E!=B});this._trigger("enable",null,this._ui(this.anchors[B],this.panels[B]))},disable:function(C){var B=this,D=this.options;if(C!=D.selected){this.lis.eq(C).addClass("ui-state-disabled");D.disabled.push(C);D.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[C],this.panels[C]))}},select:function(B){if(typeof B=="string"){B=this.anchors.index(this.anchors.filter("[href$="+B+"]"))}else{if(B===null){B=-1}}if(B==-1&&this.options.collapsible){B=this.options.selected}this.anchors.eq(B).trigger(this.options.event+".tabs")},load:function(E){var C=this,G=this.options,B=this.anchors.eq(E)[0],D=A.data(B,"load.tabs");this.abort();if(!D||this.element.queue("tabs").length!==0&&A.data(B,"cache.tabs")){this.element.dequeue("tabs");return }this.lis.eq(E).addClass("ui-state-processing");if(G.spinner){var F=A("span",B);F.data("label.tabs",F.html()).html(G.spinner)}this.xhr=A.ajax(A.extend({},G.ajaxOptions,{url:D,success:function(I,H){A(C._sanitizeSelector(B.hash)).html(I);C._cleanup();if(G.cache){A.data(B,"cache.tabs",true)}C._trigger("load",null,C._ui(C.anchors[E],C.panels[E]));try{G.ajaxOptions.success(I,H)}catch(J){}C.element.dequeue("tabs")}}))},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(C,B){this.anchors.eq(C).removeData("cache.tabs").data("load.tabs",B)},length:function(){return this.anchors.length}});A.extend(A.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});A.extend(A.ui.tabs.prototype,{rotation:null,rotate:function(D,F){var B=this,G=this.options;var C=B._rotate||(B._rotate=function(H){clearTimeout(B.rotation);B.rotation=setTimeout(function(){var I=G.selected;B.select(++I<B.anchors.length?I:0)},D);if(H){H.stopPropagation()}});var E=B._unrotate||(B._unrotate=!F?function(H){if(H.clientX){B.rotate(null)}}:function(H){t=G.selected;C()});if(D){this.element.bind("tabsshow",C);this.anchors.bind(G.event+".tabs",E);C()}else{clearTimeout(B.rotation);this.element.unbind("tabsshow",C);this.anchors.unbind(G.event+".tabs",E);delete this._rotate;delete this._unrotate}}})})(jQuery);